{"version":3,"sources":["../static/js/main.f98ead5b.js","../webpack/bootstrap 06628313a24a01d4166d","Sound.js","../node_modules/promise/lib/core.js","index.js","../node_modules/react-scripts/config/polyfills.js","../node_modules/asap/browser-raw.js","Controller.js","Game.js","Logo.js","Player.js","WorldMap.js","obstacles/Border.js","obstacles/Bush.js","obstacles/Leaf.js","../node_modules/object-assign/index.js","../node_modules/promise/lib/es6-extensions.js","../node_modules/promise/lib/rejection-tracking.js","../node_modules/webpack/buildin/global.js","../node_modules/whatwg-fetch/fetch.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","__webpack_exports__","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","length","descriptor","writable","key","protoProps","staticProps","Sound","volume","musicVolume","loadSounds","sounds","loadedSounds","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","sound","audio","document","getElementById","push","console","error","err","return","this","getSound","track","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","id","setVolume","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","playMusic","playing","pause","currentTime","play","playSound","soundInstance","noop","getThen","obj","then","ex","LAST_ERROR","IS_ERROR","tryCallOne","fn","a","tryCallTwo","b","Promise","_45","_81","_65","_54","doResolve","safeThen","self","onFulfilled","onRejected","constructor","resolve","reject","res","handle","Handler","deferred","_10","handleResolved","asap","cb","promise","ret","newValue","finale","bind","_97","reason","_61","__WEBPACK_IMPORTED_MODULE_0__Game__","__WEBPACK_IMPORTED_MODULE_1__index_css__","start","enable","window","assign","global","rawAsap","task","queue","requestFlush","flushing","flush","index","currentIndex","capacity","scan","newLength","makeRequestCallFromMutationObserver","callback","toggle","observer","BrowserMutationObserver","node","createTextNode","observe","characterData","data","makeRequestCallFromTimer","handleTimer","clearTimeout","timeoutHandle","clearInterval","intervalHandle","setTimeout","setInterval","scope","MutationObserver","WebKitMutationObserver","Controller","_this","KEYCODES","UP","DOWN","LEFT","RIGHT","SPACE","ENTER","keyStates","toggleKey","keyCode","down","addEventListener","event","pressed","__WEBPACK_IMPORTED_MODULE_0__Sound__","__WEBPACK_IMPORTED_MODULE_1__Logo__","__WEBPACK_IMPORTED_MODULE_2__WorldMap__","__WEBPACK_IMPORTED_MODULE_3__Controller__","__WEBPACK_IMPORTED_MODULE_4__Player__","__WEBPACK_IMPORTED_MODULE_5__Game_css__","Game","canvasId","SCENE","LOADING","INTRO","GAME","canvas","width","height","context","getContext","objects","controller","scene","gameloop","addObject","map","player","x","y","forEach","percentage","dataset","percent","intro","draw","fillStyle","fillRect","spawn","_this2","loading","update","requestAnimationFrame","space","enter","game","swingingSword","use","up","right","left","splice","indexOf","offset","clearRect","Logo","text","font","size","strokeStyle","step","globalAlpha","fillText","Math","cos","abs","Player","changeSprite","walkingStep","direction","sprite","walkingX","walkingY","swordSwing","xOffset","yOffset","drawImage","hitbox","debug","strokeRect","swordBox","_collides","swingSize","centerX","centerY","_swordBox","damage","_damage","Number","parseInt","ceil","collisionX","collisionY","collides","__WEBPACK_IMPORTED_MODULE_0__obstacles_Bush__","__WEBPACK_IMPORTED_MODULE_1__obstacles_Border__","WorldMap","sprites","_generateMap","cell","type","_getBorderBlock","round","random","_treefy","_poleify","isPole","south","east","west","tile","j","fiftyFifty","placeOnX","floor","cells","borders","end","_getEnd","endPos","drunkWalk","pos","directions","_arr","_i","checkPos","walk","newPos","_borderPercentace","findStart","_isBorder","north","southwest","southeast","northwest","northeast","Border","__WEBPACK_IMPORTED_MODULE_0__Leaf__","__WEBPACK_IMPORTED_MODULE_1__Sound__","Bush","alive","timeToLive","leaves","_leaf","Leaf","startY","maxSpread","time","bounce","toObject","val","shouldUseNative","test1","String","getOwnPropertyNames","test2","fromCharCode","join","test3","split","letter","keys","getOwnPropertySymbols","propIsEnumerable","propertyIsEnumerable","source","from","symbols","to","arguments","valuePromise","TRUE","FALSE","NULL","UNDEFINED","ZERO","EMPTYSTRING","all","arr","args","Array","slice","remaining","race","values","disable","enabled","options","onUnhandled","allRejections","matchWhitelist","rejections","whitelist","DEFAULT_WHITELIST","displayId","logged","logError","onHandled","warn","_72","timeout","stack","line","list","some","cls","ReferenceError","RangeError","g","Function","eval","e","normalizeName","test","toLowerCase","normalizeValue","iteratorFor","items","shift","support","iterable","Headers","headers","append","isArray","header","consumed","body","bodyUsed","fileReaderReady","reader","onload","result","onerror","readBlobAsArrayBuffer","blob","FileReader","readAsArrayBuffer","readBlobAsText","readAsText","readArrayBufferAsText","buf","view","Uint8Array","chars","bufferClone","byteLength","set","buffer","Body","_initBody","_bodyInit","_bodyText","Blob","isPrototypeOf","_bodyBlob","formData","FormData","_bodyFormData","searchParams","URLSearchParams","toString","arrayBuffer","isDataView","_bodyArrayBuffer","ArrayBuffer","isArrayBufferView","Error","rejected","decode","json","JSON","parse","normalizeMethod","method","upcased","toUpperCase","methods","Request","input","url","credentials","mode","referrer","form","trim","bytes","replace","decodeURIComponent","parseHeaders","rawHeaders","parts","Response","bodyInit","status","ok","statusText","fetch","viewClasses","DataView","isView","oldValue","has","thisArg","entries","clone","response","redirectStatuses","redirect","location","init","request","xhr","XMLHttpRequest","getAllResponseHeaders","responseURL","responseText","ontimeout","open","withCredentials","responseType","setRequestHeader","send","polyfill"],"mappings":"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","file":"static/js/main.f98ead5b.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/overworld/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 20);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Sound = function () {\n    function Sound(volume, musicVolume) {\n        _classCallCheck(this, Sound);\n\n        this.volume = volume || 0.25;\n\n        function loadSounds(sounds) {\n            var loadedSounds = [];\n            var _iteratorNormalCompletion = true;\n            var _didIteratorError = false;\n            var _iteratorError = undefined;\n\n            try {\n                for (var _iterator = sounds[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                    var sound = _step.value;\n\n                    var audio = document.getElementById(sound);\n                    if (audio) {\n                        loadedSounds.push(audio);\n                    } else {\n                        console.error('Could not find: ' + sound);\n                    }\n                }\n            } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion && _iterator.return) {\n                        _iterator.return();\n                    }\n                } finally {\n                    if (_didIteratorError) {\n                        throw _iteratorError;\n                    }\n                }\n            }\n\n            return loadedSounds;\n        }\n        this.sounds = loadSounds(['intro', 'overworld', 'gameover', 'sword', 'bush']);\n\n        // TODO: refactor into methods\n        this.getSound = function (track) {\n            var _iteratorNormalCompletion2 = true;\n            var _didIteratorError2 = false;\n            var _iteratorError2 = undefined;\n\n            try {\n                for (var _iterator2 = this.sounds[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n                    var sound = _step2.value;\n\n                    if (sound.id === track) {\n                        return sound;\n                    }\n                }\n            } catch (err) {\n                _didIteratorError2 = true;\n                _iteratorError2 = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                        _iterator2.return();\n                    }\n                } finally {\n                    if (_didIteratorError2) {\n                        throw _iteratorError2;\n                    }\n                }\n            }\n\n            return undefined;\n        };\n\n        this.setVolume = function (volume) {\n            this.volume = volume;\n            var _iteratorNormalCompletion3 = true;\n            var _didIteratorError3 = false;\n            var _iteratorError3 = undefined;\n\n            try {\n                for (var _iterator3 = this.sounds[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n                    var sound = _step3.value;\n\n                    sound.volume = this.volume;\n                }\n            } catch (err) {\n                _didIteratorError3 = true;\n                _iteratorError3 = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion3 && _iterator3.return) {\n                        _iterator3.return();\n                    }\n                } finally {\n                    if (_didIteratorError3) {\n                        throw _iteratorError3;\n                    }\n                }\n            }\n        };\n\n        this.setVolume(this.volume);\n\n        this.playMusic = function (track) {\n            if (this.playing) {\n                this.playing.pause();\n                this.playing.currentTime = 0;\n                this.playing = undefined;\n            }\n\n            this.playing = this.getSound(track);\n\n            if (this.playing) {\n                this.playing.play();\n            }\n        };\n\n        this.playSound = function (track) {\n            var sound = this.getSound(track);\n\n            if (sound) {\n                sound.currentTime = 0;\n                sound.play();\n            }\n        };\n    }\n\n    _createClass(Sound, null, [{\n        key: 'instance',\n        get: function get() {\n            if (!this.soundInstance) {\n                this.soundInstance = new Sound();\n            }\n            return this.soundInstance;\n        }\n    }]);\n\n    return Sound;\n}();\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Sound);\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar asap = __webpack_require__(4);\n\nfunction noop() {}\n\n// States:\n//\n// 0 - pending\n// 1 - fulfilled with _value\n// 2 - rejected with _value\n// 3 - adopted the state of another promise, _value\n//\n// once the state is no longer pending (0) it is immutable\n\n// All `_` prefixed properties will be reduced to `_{random number}`\n// at build time to obfuscate them and discourage their use.\n// We don't use symbols or Object.defineProperty to fully hide them\n// because the performance isn't good enough.\n\n\n// to avoid using try/catch inside critical functions, we\n// extract them to here.\nvar LAST_ERROR = null;\nvar IS_ERROR = {};\nfunction getThen(obj) {\n  try {\n    return obj.then;\n  } catch (ex) {\n    LAST_ERROR = ex;\n    return IS_ERROR;\n  }\n}\n\nfunction tryCallOne(fn, a) {\n  try {\n    return fn(a);\n  } catch (ex) {\n    LAST_ERROR = ex;\n    return IS_ERROR;\n  }\n}\nfunction tryCallTwo(fn, a, b) {\n  try {\n    fn(a, b);\n  } catch (ex) {\n    LAST_ERROR = ex;\n    return IS_ERROR;\n  }\n}\n\nmodule.exports = Promise;\n\nfunction Promise(fn) {\n  if (typeof this !== 'object') {\n    throw new TypeError('Promises must be constructed via new');\n  }\n  if (typeof fn !== 'function') {\n    throw new TypeError('not a function');\n  }\n  this._45 = 0;\n  this._81 = 0;\n  this._65 = null;\n  this._54 = null;\n  if (fn === noop) return;\n  doResolve(fn, this);\n}\nPromise._10 = null;\nPromise._97 = null;\nPromise._61 = noop;\n\nPromise.prototype.then = function(onFulfilled, onRejected) {\n  if (this.constructor !== Promise) {\n    return safeThen(this, onFulfilled, onRejected);\n  }\n  var res = new Promise(noop);\n  handle(this, new Handler(onFulfilled, onRejected, res));\n  return res;\n};\n\nfunction safeThen(self, onFulfilled, onRejected) {\n  return new self.constructor(function (resolve, reject) {\n    var res = new Promise(noop);\n    res.then(resolve, reject);\n    handle(self, new Handler(onFulfilled, onRejected, res));\n  });\n};\nfunction handle(self, deferred) {\n  while (self._81 === 3) {\n    self = self._65;\n  }\n  if (Promise._10) {\n    Promise._10(self);\n  }\n  if (self._81 === 0) {\n    if (self._45 === 0) {\n      self._45 = 1;\n      self._54 = deferred;\n      return;\n    }\n    if (self._45 === 1) {\n      self._45 = 2;\n      self._54 = [self._54, deferred];\n      return;\n    }\n    self._54.push(deferred);\n    return;\n  }\n  handleResolved(self, deferred);\n}\n\nfunction handleResolved(self, deferred) {\n  asap(function() {\n    var cb = self._81 === 1 ? deferred.onFulfilled : deferred.onRejected;\n    if (cb === null) {\n      if (self._81 === 1) {\n        resolve(deferred.promise, self._65);\n      } else {\n        reject(deferred.promise, self._65);\n      }\n      return;\n    }\n    var ret = tryCallOne(cb, self._65);\n    if (ret === IS_ERROR) {\n      reject(deferred.promise, LAST_ERROR);\n    } else {\n      resolve(deferred.promise, ret);\n    }\n  });\n}\nfunction resolve(self, newValue) {\n  // Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure\n  if (newValue === self) {\n    return reject(\n      self,\n      new TypeError('A promise cannot be resolved with itself.')\n    );\n  }\n  if (\n    newValue &&\n    (typeof newValue === 'object' || typeof newValue === 'function')\n  ) {\n    var then = getThen(newValue);\n    if (then === IS_ERROR) {\n      return reject(self, LAST_ERROR);\n    }\n    if (\n      then === self.then &&\n      newValue instanceof Promise\n    ) {\n      self._81 = 3;\n      self._65 = newValue;\n      finale(self);\n      return;\n    } else if (typeof then === 'function') {\n      doResolve(then.bind(newValue), self);\n      return;\n    }\n  }\n  self._81 = 1;\n  self._65 = newValue;\n  finale(self);\n}\n\nfunction reject(self, newValue) {\n  self._81 = 2;\n  self._65 = newValue;\n  if (Promise._97) {\n    Promise._97(self, newValue);\n  }\n  finale(self);\n}\nfunction finale(self) {\n  if (self._45 === 1) {\n    handle(self, self._54);\n    self._54 = null;\n  }\n  if (self._45 === 2) {\n    for (var i = 0; i < self._54.length; i++) {\n      handle(self, self._54[i]);\n    }\n    self._54 = null;\n  }\n}\n\nfunction Handler(onFulfilled, onRejected, promise){\n  this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n  this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n  this.promise = promise;\n}\n\n/**\n * Take a potentially misbehaving resolver function and make sure\n * onFulfilled and onRejected are only called once.\n *\n * Makes no guarantees about asynchrony.\n */\nfunction doResolve(fn, promise) {\n  var done = false;\n  var res = tryCallTwo(fn, function (value) {\n    if (done) return;\n    done = true;\n    resolve(promise, value);\n  }, function (reason) {\n    if (done) return;\n    done = true;\n    reject(promise, reason);\n  })\n  if (!done && res === IS_ERROR) {\n    done = true;\n    reject(promise, LAST_ERROR);\n  }\n}\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Game__ = __webpack_require__(6);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__index_css__ = __webpack_require__(14);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__index_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__index_css__);\n\n\n\nvar game = new __WEBPACK_IMPORTED_MODULE_0__Game__[\"a\" /* default */](\"game\");\ngame.start();\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n// @remove-on-eject-begin\n/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n// @remove-on-eject-end\n\n\nif (typeof Promise === 'undefined') {\n  // Rejection tracking prevents a common issue where React gets into an\n  // inconsistent state due to an error, but it gets swallowed by a Promise,\n  // and the user has no idea what causes React's erratic future behavior.\n  __webpack_require__(17).enable();\n  window.Promise = __webpack_require__(16);\n}\n\n// fetch() polyfill for making API calls.\n__webpack_require__(19);\n\n// Object.assign() is commonly used with React.\n// It will use the native implementation if it's present and isn't buggy.\nObject.assign = __webpack_require__(15);\n\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\n\n// Use the fastest means possible to execute a task in its own turn, with\n// priority over other events including IO, animation, reflow, and redraw\n// events in browsers.\n//\n// An exception thrown by a task will permanently interrupt the processing of\n// subsequent tasks. The higher level `asap` function ensures that if an\n// exception is thrown by a task, that the task queue will continue flushing as\n// soon as possible, but if you use `rawAsap` directly, you are responsible to\n// either ensure that no exceptions are thrown from your task, or to manually\n// call `rawAsap.requestFlush` if an exception is thrown.\nmodule.exports = rawAsap;\nfunction rawAsap(task) {\n    if (!queue.length) {\n        requestFlush();\n        flushing = true;\n    }\n    // Equivalent to push, but avoids a function call.\n    queue[queue.length] = task;\n}\n\nvar queue = [];\n// Once a flush has been requested, no further calls to `requestFlush` are\n// necessary until the next `flush` completes.\nvar flushing = false;\n// `requestFlush` is an implementation-specific method that attempts to kick\n// off a `flush` event as quickly as possible. `flush` will attempt to exhaust\n// the event queue before yielding to the browser's own event loop.\nvar requestFlush;\n// The position of the next task to execute in the task queue. This is\n// preserved between calls to `flush` so that it can be resumed if\n// a task throws an exception.\nvar index = 0;\n// If a task schedules additional tasks recursively, the task queue can grow\n// unbounded. To prevent memory exhaustion, the task queue will periodically\n// truncate already-completed tasks.\nvar capacity = 1024;\n\n// The flush function processes all tasks that have been scheduled with\n// `rawAsap` unless and until one of those tasks throws an exception.\n// If a task throws an exception, `flush` ensures that its state will remain\n// consistent and will resume where it left off when called again.\n// However, `flush` does not make any arrangements to be called again if an\n// exception is thrown.\nfunction flush() {\n    while (index < queue.length) {\n        var currentIndex = index;\n        // Advance the index before calling the task. This ensures that we will\n        // begin flushing on the next task the task throws an error.\n        index = index + 1;\n        queue[currentIndex].call();\n        // Prevent leaking memory for long chains of recursive calls to `asap`.\n        // If we call `asap` within tasks scheduled by `asap`, the queue will\n        // grow, but to avoid an O(n) walk for every task we execute, we don't\n        // shift tasks off the queue after they have been executed.\n        // Instead, we periodically shift 1024 tasks off the queue.\n        if (index > capacity) {\n            // Manually shift all values starting at the index back to the\n            // beginning of the queue.\n            for (var scan = 0, newLength = queue.length - index; scan < newLength; scan++) {\n                queue[scan] = queue[scan + index];\n            }\n            queue.length -= index;\n            index = 0;\n        }\n    }\n    queue.length = 0;\n    index = 0;\n    flushing = false;\n}\n\n// `requestFlush` is implemented using a strategy based on data collected from\n// every available SauceLabs Selenium web driver worker at time of writing.\n// https://docs.google.com/spreadsheets/d/1mG-5UYGup5qxGdEMWkhP6BWCz053NUb2E1QoUTU16uA/edit#gid=783724593\n\n// Safari 6 and 6.1 for desktop, iPad, and iPhone are the only browsers that\n// have WebKitMutationObserver but not un-prefixed MutationObserver.\n// Must use `global` or `self` instead of `window` to work in both frames and web\n// workers. `global` is a provision of Browserify, Mr, Mrs, or Mop.\n\n/* globals self */\nvar scope = typeof global !== \"undefined\" ? global : self;\nvar BrowserMutationObserver = scope.MutationObserver || scope.WebKitMutationObserver;\n\n// MutationObservers are desirable because they have high priority and work\n// reliably everywhere they are implemented.\n// They are implemented in all modern browsers.\n//\n// - Android 4-4.3\n// - Chrome 26-34\n// - Firefox 14-29\n// - Internet Explorer 11\n// - iPad Safari 6-7.1\n// - iPhone Safari 7-7.1\n// - Safari 6-7\nif (typeof BrowserMutationObserver === \"function\") {\n    requestFlush = makeRequestCallFromMutationObserver(flush);\n\n// MessageChannels are desirable because they give direct access to the HTML\n// task queue, are implemented in Internet Explorer 10, Safari 5.0-1, and Opera\n// 11-12, and in web workers in many engines.\n// Although message channels yield to any queued rendering and IO tasks, they\n// would be better than imposing the 4ms delay of timers.\n// However, they do not work reliably in Internet Explorer or Safari.\n\n// Internet Explorer 10 is the only browser that has setImmediate but does\n// not have MutationObservers.\n// Although setImmediate yields to the browser's renderer, it would be\n// preferrable to falling back to setTimeout since it does not have\n// the minimum 4ms penalty.\n// Unfortunately there appears to be a bug in Internet Explorer 10 Mobile (and\n// Desktop to a lesser extent) that renders both setImmediate and\n// MessageChannel useless for the purposes of ASAP.\n// https://github.com/kriskowal/q/issues/396\n\n// Timers are implemented universally.\n// We fall back to timers in workers in most engines, and in foreground\n// contexts in the following browsers.\n// However, note that even this simple case requires nuances to operate in a\n// broad spectrum of browsers.\n//\n// - Firefox 3-13\n// - Internet Explorer 6-9\n// - iPad Safari 4.3\n// - Lynx 2.8.7\n} else {\n    requestFlush = makeRequestCallFromTimer(flush);\n}\n\n// `requestFlush` requests that the high priority event queue be flushed as\n// soon as possible.\n// This is useful to prevent an error thrown in a task from stalling the event\n// queue if the exception handled by Node.js’s\n// `process.on(\"uncaughtException\")` or by a domain.\nrawAsap.requestFlush = requestFlush;\n\n// To request a high priority event, we induce a mutation observer by toggling\n// the text of a text node between \"1\" and \"-1\".\nfunction makeRequestCallFromMutationObserver(callback) {\n    var toggle = 1;\n    var observer = new BrowserMutationObserver(callback);\n    var node = document.createTextNode(\"\");\n    observer.observe(node, {characterData: true});\n    return function requestCall() {\n        toggle = -toggle;\n        node.data = toggle;\n    };\n}\n\n// The message channel technique was discovered by Malte Ubl and was the\n// original foundation for this library.\n// http://www.nonblocking.io/2011/06/windownexttick.html\n\n// Safari 6.0.5 (at least) intermittently fails to create message ports on a\n// page's first load. Thankfully, this version of Safari supports\n// MutationObservers, so we don't need to fall back in that case.\n\n// function makeRequestCallFromMessageChannel(callback) {\n//     var channel = new MessageChannel();\n//     channel.port1.onmessage = callback;\n//     return function requestCall() {\n//         channel.port2.postMessage(0);\n//     };\n// }\n\n// For reasons explained above, we are also unable to use `setImmediate`\n// under any circumstances.\n// Even if we were, there is another bug in Internet Explorer 10.\n// It is not sufficient to assign `setImmediate` to `requestFlush` because\n// `setImmediate` must be called *by name* and therefore must be wrapped in a\n// closure.\n// Never forget.\n\n// function makeRequestCallFromSetImmediate(callback) {\n//     return function requestCall() {\n//         setImmediate(callback);\n//     };\n// }\n\n// Safari 6.0 has a problem where timers will get lost while the user is\n// scrolling. This problem does not impact ASAP because Safari 6.0 supports\n// mutation observers, so that implementation is used instead.\n// However, if we ever elect to use timers in Safari, the prevalent work-around\n// is to add a scroll event listener that calls for a flush.\n\n// `setTimeout` does not call the passed callback if the delay is less than\n// approximately 7 in web workers in Firefox 8 through 18, and sometimes not\n// even then.\n\nfunction makeRequestCallFromTimer(callback) {\n    return function requestCall() {\n        // We dispatch a timeout with a specified delay of 0 for engines that\n        // can reliably accommodate that request. This will usually be snapped\n        // to a 4 milisecond delay, but once we're flushing, there's no delay\n        // between events.\n        var timeoutHandle = setTimeout(handleTimer, 0);\n        // However, since this timer gets frequently dropped in Firefox\n        // workers, we enlist an interval handle that will try to fire\n        // an event 20 times per second until it succeeds.\n        var intervalHandle = setInterval(handleTimer, 50);\n\n        function handleTimer() {\n            // Whichever timer succeeds will cancel both timers and\n            // execute the callback.\n            clearTimeout(timeoutHandle);\n            clearInterval(intervalHandle);\n            callback();\n        }\n    };\n}\n\n// This is for `asap.js` only.\n// Its name will be periodically randomized to break any code that depends on\n// its existence.\nrawAsap.makeRequestCallFromTimer = makeRequestCallFromTimer;\n\n// ASAP was originally a nextTick shim included in Q. This was factored out\n// into this ASAP package. It was later adapted to RSVP which made further\n// amendments. These decisions, particularly to marginalize MessageChannel and\n// to capture the MutationObserver implementation in a closure, were integrated\n// back into ASAP proper.\n// https://github.com/tildeio/rsvp.js/blob/cddf7232546a9cf858524b75cde6f9edf72620a7/lib/rsvp/asap.js\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(18)))\n\n/***/ }),\n/* 5 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Controller = function () {\n  function Controller() {\n    var _this = this;\n\n    _classCallCheck(this, Controller);\n\n    this.KEYCODES = {\n      UP: 38,\n      DOWN: 40,\n      LEFT: 37,\n      RIGHT: 39,\n      SPACE: 32,\n      ENTER: 13\n    };\n\n    this.keyStates = {};\n    var toggleKey = function toggleKey(keyCode, down) {\n      return _this.keyStates[keyCode] = down;\n    };\n\n    window.addEventListener('keydown', function (event) {\n      return toggleKey(event.keyCode, true);\n    });\n    window.addEventListener('keyup', function (event) {\n      return toggleKey(event.keyCode, false);\n    });\n  }\n\n  _createClass(Controller, [{\n    key: 'pressed',\n    value: function pressed(keyCode) {\n      return !!this.keyStates[keyCode];\n    }\n  }, {\n    key: 'up',\n    value: function up() {\n      return this.pressed(this.KEYCODES.UP);\n    }\n  }, {\n    key: 'down',\n    value: function down() {\n      return this.pressed(this.KEYCODES.DOWN);\n    }\n  }, {\n    key: 'left',\n    value: function left() {\n      return this.pressed(this.KEYCODES.LEFT);\n    }\n  }, {\n    key: 'right',\n    value: function right() {\n      return this.pressed(this.KEYCODES.RIGHT);\n    }\n  }, {\n    key: 'space',\n    value: function space() {\n      return this.pressed(this.KEYCODES.SPACE);\n    }\n  }, {\n    key: 'enter',\n    value: function enter() {\n      return this.pressed(this.KEYCODES.ENTER);\n    }\n  }]);\n\n  return Controller;\n}();\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Controller);\n\n/***/ }),\n/* 6 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Sound__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Logo__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__WorldMap__ = __webpack_require__(9);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__Controller__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__Player__ = __webpack_require__(8);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__Game_css__ = __webpack_require__(13);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__Game_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5__Game_css__);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\n\n\n\n\n\nvar Game = function () {\n  function Game(canvasId) {\n    _classCallCheck(this, Game);\n\n    this.SCENE = {\n      LOADING: 0,\n      INTRO: 1,\n      GAME: 2\n    };\n\n    this.sound = __WEBPACK_IMPORTED_MODULE_0__Sound__[\"a\" /* default */].instance;\n\n    this.canvas = document.getElementById(canvasId);\n    this.width = this.canvas.width;\n    this.height = this.canvas.height;\n    this.context = this.canvas.getContext('2d');\n    this.objects = [];\n\n    this.controller = new __WEBPACK_IMPORTED_MODULE_3__Controller__[\"a\" /* default */]();\n  }\n\n  _createClass(Game, [{\n    key: 'start',\n    value: function start() {\n      this.scene = this.SCENE.LOADING;\n      this.gameloop();\n    }\n  }, {\n    key: 'intro',\n    value: function intro() {\n      this.objects = [];\n      this.addObject(new __WEBPACK_IMPORTED_MODULE_1__Logo__[\"a\" /* default */]());\n      this.scene = this.SCENE.INTRO;\n      this.sound.playMusic(\"intro\");\n    }\n  }, {\n    key: 'game',\n    value: function game() {\n      var _this = this;\n\n      this.objects = [];\n      this.scene = this.SCENE.GAME;\n      this.sound.playMusic(\"overworld\");\n      this.map = new __WEBPACK_IMPORTED_MODULE_2__WorldMap__[\"a\" /* default */]();\n      this.player = new __WEBPACK_IMPORTED_MODULE_4__Player__[\"a\" /* default */](this.map.start.x * 16 + 8, this.map.start.y * 16 + 8);\n      this.map.objects.forEach(function (object) {\n        return _this.addObject(object);\n      });\n    }\n  }, {\n    key: 'loading',\n    value: function loading() {\n      var percentage = document.getElementById(\"loading\").dataset.percent;\n\n      if (percentage >= 1.0) {\n        this.intro();\n      } else {\n        this.draw();\n\n        var x = this.width / 4,\n            y = this.height / 2 - 5,\n            width = this.width / 2;\n\n        this.context.fillStyle = 'darkred';\n        this.context.fillRect(x - 2, y - 2, width + 4, 10 + 4);\n        this.context.fillStyle = 'red';\n        this.context.fillRect(x, y, width * percentage, 10);\n      }\n    }\n  }, {\n    key: 'addObject',\n    value: function addObject(object) {\n      this.objects.push(object);\n      object.spawn();\n    }\n  }, {\n    key: 'gameloop',\n    value: function gameloop() {\n      var _this2 = this;\n\n      if (this.scene === this.SCENE.LOADING) {\n        this.loading();\n      } else {\n        this.update();\n        this.draw();\n      }\n\n      requestAnimationFrame(function () {\n        return _this2.gameloop();\n      });\n    }\n  }, {\n    key: 'update',\n    value: function update() {\n      if (this.scene === this.SCENE.INTRO && (this.controller.space() || this.controller.enter())) {\n        this.game();\n      } else if (this.scene === this.SCENE.GAME) {\n        if (this.controller.space() && !this.player.swingingSword) {\n          this.player.use(this.context);\n          this.sound.playSound(\"sword\");\n        } else {\n          if (this.controller.down()) {\n            this.player.down();\n          } else if (this.controller.up()) {\n            this.player.up();\n          }\n          if (this.controller.right()) {\n            this.player.right();\n          } else if (this.controller.left()) {\n            this.player.left();\n          }\n        }\n      }\n\n      if (this.map) this.map.update();\n      if (this.player) this.player.update(this.objects);\n\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = this.objects[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var object = _step.value;\n\n          if (!object.update()) {\n            this.objects.splice(this.objects.indexOf(object), 1);\n          };\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n    }\n  }, {\n    key: 'draw',\n    value: function draw() {\n      var offset = this.offset();\n      this.context.clearRect(0, 0, this.width, this.height);\n\n      if (this.map) this.map.draw(this.context, offset);\n\n      var _iteratorNormalCompletion2 = true;\n      var _didIteratorError2 = false;\n      var _iteratorError2 = undefined;\n\n      try {\n        for (var _iterator2 = this.objects[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n          var object = _step2.value;\n\n          object.draw(this.context, offset);\n        }\n      } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion2 && _iterator2.return) {\n            _iterator2.return();\n          }\n        } finally {\n          if (_didIteratorError2) {\n            throw _iteratorError2;\n          }\n        }\n      }\n\n      if (this.player) this.player.draw(this.context, offset);\n    }\n  }, {\n    key: 'offset',\n    value: function offset() {\n      var x = 0,\n          y = 0;\n      if (this.player) {\n        x = this.player.x - this.width / 2;\n        y = this.player.y - this.height / 2;\n\n        if (x < 0) {\n          x = 0;\n        } else if (x > this.map.width * 16 - this.width) {\n          x = this.map.width * 16 - this.width;\n        }\n\n        if (y < 0) {\n          y = 0;\n        } else if (y > this.map.height * 16 - this.height) {\n          y = this.map.height * 16 - this.height;\n        }\n      }\n      return {\n        x: x,\n        y: y\n      };\n    }\n  }]);\n\n  return Game;\n}();\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Game);\n\n/***/ }),\n/* 7 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Logo = function () {\n    function Logo(x, y) {\n        _classCallCheck(this, Logo);\n\n        this.text = \"Overworld\";\n        this.font = \"'Press Start 2P', Courier\";\n        this.size = 18;\n        this.x = x || 40;\n        this.y = y || 40;\n        this.strokeStyle = 'black';\n        this.fillStyle = 'red';\n        this.step = 0;\n    }\n\n    _createClass(Logo, [{\n        key: \"spawn\",\n        value: function spawn() {}\n    }, {\n        key: \"draw\",\n        value: function draw(context) {\n            context.globalAlpha = 1;\n            context.font = \"19px \" + this.font;\n            context.fillStyle = 'darkred';\n            context.fillText(this.text, 40 - 4 + Math.cos(this.step / 50), 40 + 3 + Math.cos(this.step / 40) * 2);\n\n            context.font = \"18px \" + this.font;\n            context.fillStyle = 'red';\n            context.fillText(this.text, 40, 40 + Math.cos(this.step / 40) * 2);\n\n            context.font = \"9px \" + this.font;\n            context.fillStyle = 'white';\n            context.fillText(\"A tiny Zeldaish game\", 30, 70);\n            context.fillText(\" made by John Forne\", 30, 80);\n            context.fillText(\"     in 2017\", 30, 90);\n            context.fillText(\" music by visager.us\", 30, 110);\n\n            context.fillStyle = 'white';\n            context.globalAlpha = 0.5 + Math.abs(Math.cos(this.step / 40) / 2);\n            context.fillText(\"<press space to play>\", 30, 135);\n            context.globalAlpha = 1;\n        }\n    }, {\n        key: \"update\",\n        value: function update() {\n            this.step = this.step + 1;\n            return true;\n        }\n    }]);\n\n    return Logo;\n}();\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Logo);\n\n/***/ }),\n/* 8 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Player = function () {\n    function Player(x, y) {\n        _classCallCheck(this, Player);\n\n        this.x = x;\n        this.y = y;\n        this.width = 8;\n        this.height = this.width;\n        this.changeSprite = 1;\n        this.walkingStep = 0;\n        this.direction = 'down';\n        this.sprite = 'player_' + this.direction + '_' + this.walkingStep;\n        this.walkingX = 0;\n        this.walkingY = 0;\n    }\n\n    _createClass(Player, [{\n        key: 'spawn',\n        value: function spawn() {}\n    }, {\n        key: 'use',\n        value: function use() {\n            this.swingingSword = true;\n            this.swordSwing = 5;\n        }\n    }, {\n        key: 'hitbox',\n        value: function hitbox() {\n            return {\n                x: this.x - this.width / 2,\n                y: this.y - this.height / 2\n            };\n        }\n    }, {\n        key: 'draw',\n        value: function draw(context, offset) {\n            // TODO: Circle hitbox?\n            var sprite = document.getElementById(this.sprite),\n                xOffset = (sprite.dataset.x || 0) - offset.x,\n                yOffset = (sprite.dataset.y || 0) - offset.y;\n\n            context.drawImage(sprite, this.hitbox().x - (22 - this.width) / 2 + xOffset, this.hitbox().y - 6 - (22 - this.height) / 2 + yOffset);\n\n            if (this.debug) {\n                context.strokeStyle = 'red';\n                context.strokeRect(this.hitbox().x - offset.x, this.hitbox().y - offset.y, this.width, this.width);\n\n                if (this.swingingSword) {\n                    context.strokeRect(this.swordBox.x - offset.x, this.swordBox.y - offset.y, this.swordBox.width, this.swordBox.height);\n                }\n            }\n        }\n    }, {\n        key: 'collides',\n        value: function collides(x, y, object) {\n            return this._collides(x, y, this.width, this.height, object);\n        }\n    }, {\n        key: '_collides',\n        value: function _collides(x, y, width, height, object) {\n            return !(x + width / 2 < object.x || x - width / 2 > object.x + object.width || y + height / 2 < object.y || y - height / 2 > object.y + object.height);\n        }\n    }, {\n        key: '_swordBox',\n        value: function _swordBox(direction) {\n            var hitbox = this.hitbox();\n            var swingSize = 16; // TODO: Breaks if not 16, maybe fix\n\n            var swordBox = {\n                x: hitbox.x,\n                y: hitbox.y,\n                width: swingSize,\n                height: swingSize\n            };\n\n            if (this.direction === 'down') {\n                swordBox.y += this.height;\n                swordBox.x -= this.width / 2;\n            } else if (this.direction === 'up') {\n                swordBox.y -= swingSize;\n                swordBox.x -= this.width / 2;\n            } else if (this.direction === 'right') {\n                swordBox.x += this.width;\n                swordBox.y -= this.height / 2;\n            } else if (this.direction === 'left') {\n                swordBox.x -= swingSize;\n                swordBox.y -= this.height / 2;\n            }\n\n            swordBox.centerX = swordBox.x + swingSize / 2;\n            swordBox.centerY = swordBox.y + swingSize / 2;\n\n            return swordBox;\n        }\n    }, {\n        key: '_damage',\n        value: function _damage(objects) {\n            this.swordBox = this._swordBox(this.direction);\n            var swordBox = this.swordBox;\n            var _iteratorNormalCompletion = true;\n            var _didIteratorError = false;\n            var _iteratorError = undefined;\n\n            try {\n                for (var _iterator = objects[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                    var object = _step.value;\n\n                    if (typeof object.damage === \"function\") {\n                        if (this._collides(swordBox.centerX, swordBox.centerY, swordBox.width, swordBox.height, object)) {\n                            object.damage();\n                        }\n                    }\n                }\n            } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion && _iterator.return) {\n                        _iterator.return();\n                    }\n                } finally {\n                    if (_didIteratorError) {\n                        throw _iteratorError;\n                    }\n                }\n            }\n        }\n    }, {\n        key: 'update',\n        value: function update(objects) {\n            var sprite = undefined;\n            if (this.swingingSword) {\n                if (this.swordSwing === 5) {\n                    this._damage(objects);\n                }\n\n                sprite = 'sword_' + this.direction + '_' + Number.parseInt(Math.abs(5 - Math.ceil(this.swordSwing)), 10);\n                this.swordSwing = this.swordSwing - 0.25;\n                if (this.swordSwing <= 0) {\n                    this.swingingSword = false;\n                }\n            } else if (this.walkingX || this.walkingY) {\n                this.changeSprite = this.changeSprite - 1;\n                if (this.changeSprite === 0) {\n                    this.walkingStep = (this.walkingStep + 1) % 7;\n                    this.changeSprite = 6;\n                }\n\n                var x = this.x + this.walkingX,\n                    y = this.y + this.walkingY,\n                    collisionX = false,\n                    collisionY = false;\n\n                if (this.walkingY > 0) this.direction = 'down';else if (this.walkingY < 0) this.direction = 'up';\n                if (this.walkingX > 0) this.direction = 'right';else if (this.walkingX < 0) this.direction = 'left';\n\n                var _iteratorNormalCompletion2 = true;\n                var _didIteratorError2 = false;\n                var _iteratorError2 = undefined;\n\n                try {\n                    for (var _iterator2 = objects[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n                        var object = _step2.value;\n\n                        if (this.walkingY !== 0 && this.collides(this.x, y, object)) {\n                            this.walkingY = 0;\n                            y = this.y;\n                            this.collisionY = true;\n                        }\n                        if (this.walkingX !== 0 && this.collides(x, this.y, object)) {\n                            this.walkingX = 0;\n                            x = this.x;\n                            this.collisionX = true;\n                        }\n                    }\n                } catch (err) {\n                    _didIteratorError2 = true;\n                    _iteratorError2 = err;\n                } finally {\n                    try {\n                        if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                            _iterator2.return();\n                        }\n                    } finally {\n                        if (_didIteratorError2) {\n                            throw _iteratorError2;\n                        }\n                    }\n                }\n\n                if (!collisionX) {\n                    this.x = x;\n                }\n                if (!collisionY) {\n                    this.y = y;\n                }\n\n                this.walkingX = 0;\n                this.walkingY = 0;\n            } else {\n                this.walkingStep = 0;\n                this.changeSprite = 1;\n            }\n            if (sprite === undefined) {\n                sprite = 'player_' + this.direction + '_' + this.walkingStep;\n            }\n            this.sprite = sprite;\n            return true;\n        }\n    }, {\n        key: 'down',\n        value: function down() {\n            this.walkingY = 1;\n        }\n    }, {\n        key: 'up',\n        value: function up() {\n            this.walkingY = -1;\n        }\n    }, {\n        key: 'left',\n        value: function left() {\n            this.walkingX = -1;\n        }\n    }, {\n        key: 'right',\n        value: function right() {\n            this.walkingX = 1;\n        }\n    }]);\n\n    return Player;\n}();\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Player);\n\n/***/ }),\n/* 9 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__obstacles_Bush__ = __webpack_require__(11);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__obstacles_Border__ = __webpack_require__(10);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\n\nvar WorldMap = function () {\n    function WorldMap() {\n        _classCallCheck(this, WorldMap);\n\n        this.width = 100;\n        this.height = 60;\n\n        this.map = [];\n        this.objects = [];\n\n        var sprites = [\"grass_0\", \"grass_0\", \"grass_0\", \"grass_0\", \"grass_1\", \"bush_1\"];\n\n        // Generation\n        this.map = WorldMap._generateMap(this.width, this.height);\n\n        // Painting\n        for (var x = 0; x < this.width; x++) {\n            for (var y = 0; y < this.height; y++) {\n                var cell = this.map[x][y];\n\n                if (cell.type === 'end') {\n                    cell.sprite = 'tiles';\n                } else if (cell.type === 'border') {\n                    cell.sprite = WorldMap._getBorderBlock(this.map, x, y);\n                } else if (cell.type === 'start') {\n                    this.start = {\n                        x: x,\n                        y: y\n                    };\n                    cell.sprite = 'tiles';\n                } else {\n                    cell.sprite = sprites[Number.parseInt(Math.round(Math.random() * (sprites.length - 1)), 10)];\n                }\n            }\n        }\n\n        // Treeification\n        this._treefy();\n        this._poleify();\n\n        // Objectification\n        for (var _x = 0; _x < this.width; _x++) {\n            for (var _y = 0; _y < this.height; _y++) {\n                var _cell = this.map[_x][_y];\n                if (_cell.sprite === 'bush_1') {\n                    this.objects.push(new __WEBPACK_IMPORTED_MODULE_0__obstacles_Bush__[\"a\" /* default */](_x * 16, _y * 16));\n                }\n                if (_cell.type === 'border') {\n                    this.objects.push(new __WEBPACK_IMPORTED_MODULE_1__obstacles_Border__[\"a\" /* default */](_x * 16, _y * 16));\n                }\n            }\n        }\n    }\n\n    _createClass(WorldMap, [{\n        key: '_poleify',\n        value: function _poleify() {\n            var _this = this;\n\n            var isPole = function isPole(x, y) {\n                return _this.map[x][y].sprite.indexOf('pole_') !== -1;\n            };\n\n            for (var x = 0; x < this.width - 1; x++) {\n                for (var y = 0; y < this.height - 1; y++) {\n                    if (isPole(x, y)) {\n                        var south = isPole(x, y + 1),\n                            east = isPole(x + 1, y),\n                            west = isPole(x - 1, y);\n                        if (west && !east && !south) {\n                            this.map[x][y].sprite = 'pole_west';\n                        } else if (!west && east && !south) {\n                            this.map[x][y].sprite = 'pole_east';\n                        } else if (!west && !east && south) {\n                            this.map[x][y].sprite = 'pole_south';\n                        } else if (west && east && !south) {\n                            this.map[x][y].sprite = 'pole_east_west';\n                        } else if (!west && east && south) {\n                            this.map[x][y].sprite = 'pole_south_east';\n                        } else if (west && !east && south) {\n                            this.map[x][y].sprite = 'pole_south_west';\n                        } else if (west && east && south) {\n                            this.map[x][y].sprite = 'pole_south_east_west';\n                        }\n                    }\n                }\n            }\n        }\n    }, {\n        key: '_treefy',\n        value: function _treefy() {\n            for (var x = 0; x < this.width - 1; x++) {\n                for (var y = 0; y < this.height - 1; y++) {\n                    if (this.map[x][y].sprite === 'border_northwest' && this.map[x + 1][y].sprite === 'border_northeast' && this.map[x][y + 1].sprite === 'border_southwest' && this.map[x + 1][y + 1].sprite === 'border_southeast') {\n                        var tile = Math.random() >= 0.5 ? 'tree' : 'stump';\n                        this.map[x][y].sprite = tile + '_northwest';\n                        this.map[x + 1][y].sprite = tile + '_northeast';\n                        this.map[x][y + 1].sprite = tile + '_southwest';\n                        this.map[x + 1][y + 1].sprite = tile + '_southeast';\n                    }\n                }\n            }\n        }\n    }, {\n        key: 'spawn',\n        value: function spawn() {}\n    }, {\n        key: 'draw',\n        value: function draw(context, offset) {\n            for (var i = 0; i < this.width; i++) {\n                for (var j = 0; j < this.height; j++) {\n                    var cell = this.map[i][j];\n                    context.drawImage(document.getElementById(cell.sprite), i * 16 - offset.x, j * 16 - offset.y);\n                }\n            }\n        }\n    }, {\n        key: 'update',\n        value: function update() {\n            return true;\n        }\n    }], [{\n        key: '_getEnd',\n        value: function _getEnd(width, height) {\n            var fiftyFifty = function fiftyFifty() {\n                return Math.random() >= 0.6;\n            },\n                placeOnX = fiftyFifty(),\n                x = placeOnX ? 3 + Math.floor(Math.random() * (width - 6)) : fiftyFifty() ? 0 : width - 1,\n                y = !placeOnX ? 3 + Math.floor(Math.random() * (height - 6)) : fiftyFifty() ? 0 : height - 1;\n            return [{\n                x: x,\n                y: y\n            }, {\n                x: x + (placeOnX ? fiftyFifty() ? -1 : 1 : 0) * 1,\n                y: y + (!placeOnX ? fiftyFifty() ? -1 : 1 : 0) * 1\n            }];\n        }\n    }, {\n        key: '_borderPercentace',\n        value: function _borderPercentace(map) {\n            var cells = 0,\n                borders = 0;\n            for (var x = 0; x < map.length; x++) {\n                for (var y = 0; y < map[x].length; y++) {\n                    cells += 1;\n                    if (map[x][y].type === 'border') borders += 1;\n                }\n            }\n            return borders / cells;\n        }\n    }, {\n        key: '_generateMap',\n        value: function _generateMap(width, height) {\n            var map = [];\n\n            for (var x = 0; x < width; x++) {\n                map.push([]);\n                for (var y = 0; y < height; y++) {\n                    map[x].push({\n                        type: 'border'\n                    });\n                }\n            }\n            var end = WorldMap._getEnd(width, height);\n            var _iteratorNormalCompletion = true;\n            var _didIteratorError = false;\n            var _iteratorError = undefined;\n\n            try {\n                for (var _iterator = end[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                    var endPos = _step.value;\n\n                    map[endPos.x][endPos.y].type = 'end';\n                }\n            } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion && _iterator.return) {\n                        _iterator.return();\n                    }\n                } finally {\n                    if (_didIteratorError) {\n                        throw _iteratorError;\n                    }\n                }\n            }\n\n            var drunkWalk = function drunkWalk(pos) {\n                var directions = [];\n                var _arr = [{ x: -1, y: 0 }, { x: 1, y: 0 }, { x: 0, y: -1 }, { x: 0, y: 1 }];\n                for (var _i = 0; _i < _arr.length; _i++) {\n                    var direction = _arr[_i];\n                    var checkPos = {\n                        x: pos.x + direction.x,\n                        y: pos.y + direction.y\n                    };\n                    if (checkPos.x > 0 && checkPos.x < width - 1 && checkPos.y > 0 && checkPos.y < height - 1) {\n                        directions.push(direction);\n                        if (map[checkPos.x][checkPos.y].type === 'border') {\n                            directions.push(direction);\n                        }\n                    }\n                }\n\n                var walk = directions[Math.floor(Math.random() * directions.length)],\n                    newPos = {\n                    x: pos.x + walk.x,\n                    y: pos.y + walk.y\n                };\n\n                map[newPos.x][newPos.y].type = 'grass';\n                return newPos;\n            };\n            var pos = drunkWalk(end[0]);\n            while (WorldMap._borderPercentace(map) > 0.6) {\n                pos = drunkWalk(pos);\n            }\n\n            var start = function findStart(pos) {\n                var directions = [{ x: -1, y: 0 }, { x: 1, y: 0 }, { x: 0, y: -1 }, { x: 0, y: 1 }],\n                    walk = directions[Math.floor(Math.random() * directions.length)],\n                    newPos = {\n                    x: pos.x + walk.x,\n                    y: pos.y + walk.y\n                };\n\n                if (newPos.x > 0 && newPos.x < width - 1 && newPos.y > 0 && newPos.y < height - 1) {\n                    pos = newPos;\n                    if (map[pos.x][pos.y].type === 'grass') {\n                        map[pos.x][pos.y].type = 'start';\n                        return pos;\n                    }\n                }\n                return findStart(pos);\n            };\n            start({ x: width / 2, y: height / 2 });\n            return map;\n        }\n    }, {\n        key: '_getBorderBlock',\n        value: function _getBorderBlock(map, x, y) {\n            var south = WorldMap._isBorder(map, x, y + 1),\n                north = WorldMap._isBorder(map, x, y - 1),\n                east = WorldMap._isBorder(map, x + 1, y),\n                west = WorldMap._isBorder(map, x - 1, y),\n                southwest = WorldMap._isBorder(map, x - 1, y + 1),\n                southeast = WorldMap._isBorder(map, x + 1, y + 1),\n                northwest = WorldMap._isBorder(map, x - 1, y - 1),\n                northeast = WorldMap._isBorder(map, x + 1, y - 1);\n\n            if (north && south && west && east) {\n                if (northeast && northwest && southeast && !southwest) {\n                    return 'border_inner_southwest';\n                } else if (northeast && northwest && !southeast && southwest) {\n                    return 'border_inner_southeast';\n                } else if (northeast && !northwest && southeast && southwest) {\n                    return 'border_inner_northwest';\n                } else if (!northeast && northwest && southeast && southwest) {\n                    return 'border_inner_northeast';\n                } else if (northeast && northwest && southeast && southwest) {\n                    return 'border_full';\n                } else if (northeast && northwest && !southeast && !southwest) {\n                    return 'border_south';\n                } else if (northeast && !northwest && southeast && !southwest) {\n                    return 'border_west';\n                } else if (!northeast && northwest && !southeast && southwest) {\n                    return 'border_east';\n                } else if (!northeast && !northwest && southeast && southwest) {\n                    return 'border_north';\n                } else if (!northeast && northwest && southeast && !southwest) {\n                    return 'border_northwest_southeast';\n                } else if (northeast && !northwest && !southeast && southwest) {\n                    return 'border_northeast_southwest';\n                }\n            }\n            if (north && south && west && !east && northwest && southwest) {\n                return 'border_east';\n            } else if (north && south && !west && east && northeast && southeast) {\n                return 'border_west';\n            } else if (north && !south && west && east && northwest && northeast) {\n                return 'border_south';\n            } else if (!north && south && west && east && southeast && southwest) {\n                return 'border_north';\n            } else if ((!south || !west || !southwest) && north && east && northeast) {\n                return 'border_southwest';\n            } else if ((!south || !east || !southeast) && north && west && northwest) {\n                return 'border_southeast';\n            } else if ((!north || !west || !northwest) && south && east && southeast) {\n                return 'border_northwest';\n            } else if ((!north || !east || !northeast) && south && west && southwest) {\n                return 'border_northeast';\n            }\n            return 'pole_alone';\n        }\n    }, {\n        key: '_isBorder',\n        value: function _isBorder(map, x, y) {\n            return !map[x] || !map[x][y] || map[x][y].type === 'border';\n        }\n    }]);\n\n    return WorldMap;\n}();\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (WorldMap);\n\n/***/ }),\n/* 10 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Border = function () {\n    function Border(x, y) {\n        _classCallCheck(this, Border);\n\n        this.x = x;\n        this.y = y;\n        this.width = 16;\n        this.height = 16;\n    }\n\n    _createClass(Border, [{\n        key: \"spawn\",\n        value: function spawn() {}\n    }, {\n        key: \"update\",\n        value: function update() {\n            return true;\n        }\n    }, {\n        key: \"draw\",\n        value: function draw(context, offset) {}\n    }]);\n\n    return Border;\n}();\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Border);\n\n/***/ }),\n/* 11 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Leaf__ = __webpack_require__(12);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Sound__ = __webpack_require__(0);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\n\nvar Bush = function () {\n    function Bush(x, y) {\n        _classCallCheck(this, Bush);\n\n        this.x = x;\n        this.y = y;\n        this.width = 16;\n        this.height = 16;\n        this.alive = true;\n        this.timeToLive = 10;\n        this.leaves = [this._leaf(), this._leaf(), this._leaf(), this._leaf(), this._leaf()];\n    }\n\n    _createClass(Bush, [{\n        key: '_leaf',\n        value: function _leaf() {\n            return new __WEBPACK_IMPORTED_MODULE_0__Leaf__[\"a\" /* default */](this.x + this.width / 2, this.y);\n        }\n    }, {\n        key: 'spawn',\n        value: function spawn() {}\n    }, {\n        key: 'update',\n        value: function update() {\n            if (!this.alive) {\n                var _iteratorNormalCompletion = true;\n                var _didIteratorError = false;\n                var _iteratorError = undefined;\n\n                try {\n                    for (var _iterator = this.leaves[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                        var leaf = _step.value;\n\n                        leaf.update();\n                    }\n                } catch (err) {\n                    _didIteratorError = true;\n                    _iteratorError = err;\n                } finally {\n                    try {\n                        if (!_iteratorNormalCompletion && _iterator.return) {\n                            _iterator.return();\n                        }\n                    } finally {\n                        if (_didIteratorError) {\n                            throw _iteratorError;\n                        }\n                    }\n                }\n\n                if (this.timeToLive-- <= 0) {\n                    return false;\n                }\n            }\n            return true;\n        }\n    }, {\n        key: 'damage',\n        value: function damage() {\n            this.alive = false;\n            __WEBPACK_IMPORTED_MODULE_1__Sound__[\"a\" /* default */].instance.playSound('bush');\n        }\n    }, {\n        key: 'draw',\n        value: function draw(context, offset) {\n            if (this.alive) {\n                context.drawImage(document.getElementById(\"bush_0\"), this.x - offset.x, this.y - offset.y);\n            } else {\n                var _iteratorNormalCompletion2 = true;\n                var _didIteratorError2 = false;\n                var _iteratorError2 = undefined;\n\n                try {\n                    for (var _iterator2 = this.leaves[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n                        var leaf = _step2.value;\n\n                        leaf.draw(context, offset);\n                    }\n                } catch (err) {\n                    _didIteratorError2 = true;\n                    _iteratorError2 = err;\n                } finally {\n                    try {\n                        if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                            _iterator2.return();\n                        }\n                    } finally {\n                        if (_didIteratorError2) {\n                            throw _iteratorError2;\n                        }\n                    }\n                }\n            }\n        }\n    }]);\n\n    return Bush;\n}();\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Bush);\n\n/***/ }),\n/* 12 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Leaf = function () {\n    function Leaf(x, y, id) {\n        _classCallCheck(this, Leaf);\n\n        this.x = x || 0;\n        this.y = y || 0;\n        this.startY = this.y;\n        this.step = 0;\n        var maxSpread = 2;\n        this.direction = Math.random() * maxSpread * 2 - maxSpread;\n        this.sprite = 'leaf_' + Number.parseInt(Math.round(Math.random(2)), 10);\n    }\n\n    _createClass(Leaf, [{\n        key: 'spawn',\n        value: function spawn() {}\n    }, {\n        key: 'draw',\n        value: function draw(context, offset) {\n            context.drawImage(document.getElementById(this.sprite), this.x - offset.x, this.y - offset.y);\n        }\n    }, {\n        key: 'update',\n        value: function update() {\n            this.step = this.step + 1;\n            var time = 40;\n            this.x = this.x + this.direction;\n            var bounce = Math.cos(this.step / 2) * 4 * (time - this.step) / time;\n            this.y = this.startY + bounce;\n\n            return this.step < time;\n        }\n    }]);\n\n    return Leaf;\n}();\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Leaf);\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n//This file contains the ES6 extensions to the core Promises/A+ API\n\nvar Promise = __webpack_require__(1);\n\nmodule.exports = Promise;\n\n/* Static Functions */\n\nvar TRUE = valuePromise(true);\nvar FALSE = valuePromise(false);\nvar NULL = valuePromise(null);\nvar UNDEFINED = valuePromise(undefined);\nvar ZERO = valuePromise(0);\nvar EMPTYSTRING = valuePromise('');\n\nfunction valuePromise(value) {\n  var p = new Promise(Promise._61);\n  p._81 = 1;\n  p._65 = value;\n  return p;\n}\nPromise.resolve = function (value) {\n  if (value instanceof Promise) return value;\n\n  if (value === null) return NULL;\n  if (value === undefined) return UNDEFINED;\n  if (value === true) return TRUE;\n  if (value === false) return FALSE;\n  if (value === 0) return ZERO;\n  if (value === '') return EMPTYSTRING;\n\n  if (typeof value === 'object' || typeof value === 'function') {\n    try {\n      var then = value.then;\n      if (typeof then === 'function') {\n        return new Promise(then.bind(value));\n      }\n    } catch (ex) {\n      return new Promise(function (resolve, reject) {\n        reject(ex);\n      });\n    }\n  }\n  return valuePromise(value);\n};\n\nPromise.all = function (arr) {\n  var args = Array.prototype.slice.call(arr);\n\n  return new Promise(function (resolve, reject) {\n    if (args.length === 0) return resolve([]);\n    var remaining = args.length;\n    function res(i, val) {\n      if (val && (typeof val === 'object' || typeof val === 'function')) {\n        if (val instanceof Promise && val.then === Promise.prototype.then) {\n          while (val._81 === 3) {\n            val = val._65;\n          }\n          if (val._81 === 1) return res(i, val._65);\n          if (val._81 === 2) reject(val._65);\n          val.then(function (val) {\n            res(i, val);\n          }, reject);\n          return;\n        } else {\n          var then = val.then;\n          if (typeof then === 'function') {\n            var p = new Promise(then.bind(val));\n            p.then(function (val) {\n              res(i, val);\n            }, reject);\n            return;\n          }\n        }\n      }\n      args[i] = val;\n      if (--remaining === 0) {\n        resolve(args);\n      }\n    }\n    for (var i = 0; i < args.length; i++) {\n      res(i, args[i]);\n    }\n  });\n};\n\nPromise.reject = function (value) {\n  return new Promise(function (resolve, reject) {\n    reject(value);\n  });\n};\n\nPromise.race = function (values) {\n  return new Promise(function (resolve, reject) {\n    values.forEach(function(value){\n      Promise.resolve(value).then(resolve, reject);\n    });\n  });\n};\n\n/* Prototype Methods */\n\nPromise.prototype['catch'] = function (onRejected) {\n  return this.then(null, onRejected);\n};\n\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar Promise = __webpack_require__(1);\n\nvar DEFAULT_WHITELIST = [\n  ReferenceError,\n  TypeError,\n  RangeError\n];\n\nvar enabled = false;\nexports.disable = disable;\nfunction disable() {\n  enabled = false;\n  Promise._10 = null;\n  Promise._97 = null;\n}\n\nexports.enable = enable;\nfunction enable(options) {\n  options = options || {};\n  if (enabled) disable();\n  enabled = true;\n  var id = 0;\n  var displayId = 0;\n  var rejections = {};\n  Promise._10 = function (promise) {\n    if (\n      promise._81 === 2 && // IS REJECTED\n      rejections[promise._72]\n    ) {\n      if (rejections[promise._72].logged) {\n        onHandled(promise._72);\n      } else {\n        clearTimeout(rejections[promise._72].timeout);\n      }\n      delete rejections[promise._72];\n    }\n  };\n  Promise._97 = function (promise, err) {\n    if (promise._45 === 0) { // not yet handled\n      promise._72 = id++;\n      rejections[promise._72] = {\n        displayId: null,\n        error: err,\n        timeout: setTimeout(\n          onUnhandled.bind(null, promise._72),\n          // For reference errors and type errors, this almost always\n          // means the programmer made a mistake, so log them after just\n          // 100ms\n          // otherwise, wait 2 seconds to see if they get handled\n          matchWhitelist(err, DEFAULT_WHITELIST)\n            ? 100\n            : 2000\n        ),\n        logged: false\n      };\n    }\n  };\n  function onUnhandled(id) {\n    if (\n      options.allRejections ||\n      matchWhitelist(\n        rejections[id].error,\n        options.whitelist || DEFAULT_WHITELIST\n      )\n    ) {\n      rejections[id].displayId = displayId++;\n      if (options.onUnhandled) {\n        rejections[id].logged = true;\n        options.onUnhandled(\n          rejections[id].displayId,\n          rejections[id].error\n        );\n      } else {\n        rejections[id].logged = true;\n        logError(\n          rejections[id].displayId,\n          rejections[id].error\n        );\n      }\n    }\n  }\n  function onHandled(id) {\n    if (rejections[id].logged) {\n      if (options.onHandled) {\n        options.onHandled(rejections[id].displayId, rejections[id].error);\n      } else if (!rejections[id].onUnhandled) {\n        console.warn(\n          'Promise Rejection Handled (id: ' + rejections[id].displayId + '):'\n        );\n        console.warn(\n          '  This means you can ignore any previous messages of the form \"Possible Unhandled Promise Rejection\" with id ' +\n          rejections[id].displayId + '.'\n        );\n      }\n    }\n  }\n}\n\nfunction logError(id, error) {\n  console.warn('Possible Unhandled Promise Rejection (id: ' + id + '):');\n  var errStr = (error && (error.stack || error)) + '';\n  errStr.split('\\n').forEach(function (line) {\n    console.warn('  ' + line);\n  });\n}\n\nfunction matchWhitelist(error, list) {\n  return list.some(function (cls) {\n    return error instanceof cls;\n  });\n}\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports) {\n\nvar g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports) {\n\n(function(self) {\n  'use strict';\n\n  if (self.fetch) {\n    return\n  }\n\n  var support = {\n    searchParams: 'URLSearchParams' in self,\n    iterable: 'Symbol' in self && 'iterator' in Symbol,\n    blob: 'FileReader' in self && 'Blob' in self && (function() {\n      try {\n        new Blob()\n        return true\n      } catch(e) {\n        return false\n      }\n    })(),\n    formData: 'FormData' in self,\n    arrayBuffer: 'ArrayBuffer' in self\n  }\n\n  if (support.arrayBuffer) {\n    var viewClasses = [\n      '[object Int8Array]',\n      '[object Uint8Array]',\n      '[object Uint8ClampedArray]',\n      '[object Int16Array]',\n      '[object Uint16Array]',\n      '[object Int32Array]',\n      '[object Uint32Array]',\n      '[object Float32Array]',\n      '[object Float64Array]'\n    ]\n\n    var isDataView = function(obj) {\n      return obj && DataView.prototype.isPrototypeOf(obj)\n    }\n\n    var isArrayBufferView = ArrayBuffer.isView || function(obj) {\n      return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n    }\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name)\n    }\n    if (/[^a-z0-9\\-#$%&'*+.\\^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value)\n    }\n    return value\n  }\n\n  // Build a destructive iterator for the value list\n  function iteratorFor(items) {\n    var iterator = {\n      next: function() {\n        var value = items.shift()\n        return {done: value === undefined, value: value}\n      }\n    }\n\n    if (support.iterable) {\n      iterator[Symbol.iterator] = function() {\n        return iterator\n      }\n    }\n\n    return iterator\n  }\n\n  function Headers(headers) {\n    this.map = {}\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value)\n      }, this)\n    } else if (Array.isArray(headers)) {\n      headers.forEach(function(header) {\n        this.append(header[0], header[1])\n      }, this)\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name])\n      }, this)\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name)\n    value = normalizeValue(value)\n    var oldValue = this.map[name]\n    this.map[name] = oldValue ? oldValue+','+value : value\n  }\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)]\n  }\n\n  Headers.prototype.get = function(name) {\n    name = normalizeName(name)\n    return this.has(name) ? this.map[name] : null\n  }\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  }\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = normalizeValue(value)\n  }\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    for (var name in this.map) {\n      if (this.map.hasOwnProperty(name)) {\n        callback.call(thisArg, this.map[name], name, this)\n      }\n    }\n  }\n\n  Headers.prototype.keys = function() {\n    var items = []\n    this.forEach(function(value, name) { items.push(name) })\n    return iteratorFor(items)\n  }\n\n  Headers.prototype.values = function() {\n    var items = []\n    this.forEach(function(value) { items.push(value) })\n    return iteratorFor(items)\n  }\n\n  Headers.prototype.entries = function() {\n    var items = []\n    this.forEach(function(value, name) { items.push([name, value]) })\n    return iteratorFor(items)\n  }\n\n  if (support.iterable) {\n    Headers.prototype[Symbol.iterator] = Headers.prototype.entries\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result)\n      }\n      reader.onerror = function() {\n        reject(reader.error)\n      }\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader()\n    var promise = fileReaderReady(reader)\n    reader.readAsArrayBuffer(blob)\n    return promise\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader()\n    var promise = fileReaderReady(reader)\n    reader.readAsText(blob)\n    return promise\n  }\n\n  function readArrayBufferAsText(buf) {\n    var view = new Uint8Array(buf)\n    var chars = new Array(view.length)\n\n    for (var i = 0; i < view.length; i++) {\n      chars[i] = String.fromCharCode(view[i])\n    }\n    return chars.join('')\n  }\n\n  function bufferClone(buf) {\n    if (buf.slice) {\n      return buf.slice(0)\n    } else {\n      var view = new Uint8Array(buf.byteLength)\n      view.set(new Uint8Array(buf))\n      return view.buffer\n    }\n  }\n\n  function Body() {\n    this.bodyUsed = false\n\n    this._initBody = function(body) {\n      this._bodyInit = body\n      if (!body) {\n        this._bodyText = ''\n      } else if (typeof body === 'string') {\n        this._bodyText = body\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this._bodyText = body.toString()\n      } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n        this._bodyArrayBuffer = bufferClone(body.buffer)\n        // IE 10-11 can't handle a DataView body.\n        this._bodyInit = new Blob([this._bodyArrayBuffer])\n      } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n        this._bodyArrayBuffer = bufferClone(body)\n      } else {\n        throw new Error('unsupported BodyInit type')\n      }\n\n      if (!this.headers.get('content-type')) {\n        if (typeof body === 'string') {\n          this.headers.set('content-type', 'text/plain;charset=UTF-8')\n        } else if (this._bodyBlob && this._bodyBlob.type) {\n          this.headers.set('content-type', this._bodyBlob.type)\n        } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n          this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8')\n        }\n      }\n    }\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this)\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob)\n        } else if (this._bodyArrayBuffer) {\n          return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]))\n        }\n      }\n\n      this.arrayBuffer = function() {\n        if (this._bodyArrayBuffer) {\n          return consumed(this) || Promise.resolve(this._bodyArrayBuffer)\n        } else {\n          return this.blob().then(readBlobAsArrayBuffer)\n        }\n      }\n    }\n\n    this.text = function() {\n      var rejected = consumed(this)\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return readBlobAsText(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as text')\n      } else {\n        return Promise.resolve(this._bodyText)\n      }\n    }\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      }\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse)\n    }\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase()\n    return (methods.indexOf(upcased) > -1) ? upcased : method\n  }\n\n  function Request(input, options) {\n    options = options || {}\n    var body = options.body\n\n    if (input instanceof Request) {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read')\n      }\n      this.url = input.url\n      this.credentials = input.credentials\n      if (!options.headers) {\n        this.headers = new Headers(input.headers)\n      }\n      this.method = input.method\n      this.mode = input.mode\n      if (!body && input._bodyInit != null) {\n        body = input._bodyInit\n        input.bodyUsed = true\n      }\n    } else {\n      this.url = String(input)\n    }\n\n    this.credentials = options.credentials || this.credentials || 'omit'\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers)\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET')\n    this.mode = options.mode || this.mode || null\n    this.referrer = null\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(body)\n  }\n\n  Request.prototype.clone = function() {\n    return new Request(this, { body: this._bodyInit })\n  }\n\n  function decode(body) {\n    var form = new FormData()\n    body.trim().split('&').forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n    return form\n  }\n\n  function parseHeaders(rawHeaders) {\n    var headers = new Headers()\n    rawHeaders.split(/\\r?\\n/).forEach(function(line) {\n      var parts = line.split(':')\n      var key = parts.shift().trim()\n      if (key) {\n        var value = parts.join(':').trim()\n        headers.append(key, value)\n      }\n    })\n    return headers\n  }\n\n  Body.call(Request.prototype)\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {}\n    }\n\n    this.type = 'default'\n    this.status = 'status' in options ? options.status : 200\n    this.ok = this.status >= 200 && this.status < 300\n    this.statusText = 'statusText' in options ? options.statusText : 'OK'\n    this.headers = new Headers(options.headers)\n    this.url = options.url || ''\n    this._initBody(bodyInit)\n  }\n\n  Body.call(Response.prototype)\n\n  Response.prototype.clone = function() {\n    return new Response(this._bodyInit, {\n      status: this.status,\n      statusText: this.statusText,\n      headers: new Headers(this.headers),\n      url: this.url\n    })\n  }\n\n  Response.error = function() {\n    var response = new Response(null, {status: 0, statusText: ''})\n    response.type = 'error'\n    return response\n  }\n\n  var redirectStatuses = [301, 302, 303, 307, 308]\n\n  Response.redirect = function(url, status) {\n    if (redirectStatuses.indexOf(status) === -1) {\n      throw new RangeError('Invalid status code')\n    }\n\n    return new Response(null, {status: status, headers: {location: url}})\n  }\n\n  self.Headers = Headers\n  self.Request = Request\n  self.Response = Response\n\n  self.fetch = function(input, init) {\n    return new Promise(function(resolve, reject) {\n      var request = new Request(input, init)\n      var xhr = new XMLHttpRequest()\n\n      xhr.onload = function() {\n        var options = {\n          status: xhr.status,\n          statusText: xhr.statusText,\n          headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n        }\n        options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL')\n        var body = 'response' in xhr ? xhr.response : xhr.responseText\n        resolve(new Response(body, options))\n      }\n\n      xhr.onerror = function() {\n        reject(new TypeError('Network request failed'))\n      }\n\n      xhr.ontimeout = function() {\n        reject(new TypeError('Network request failed'))\n      }\n\n      xhr.open(request.method, request.url, true)\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true\n      }\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob'\n      }\n\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value)\n      })\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n    })\n  }\n  self.fetch.polyfill = true\n})(typeof self !== 'undefined' ? self : this);\n\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(3);\nmodule.exports = __webpack_require__(2);\n\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// static/js/main.f98ead5b.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/overworld/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 20);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 06628313a24a01d4166d","class Sound {\n    constructor(volume, musicVolume) {\n        this.volume = volume || 0.25;\n\n        function loadSounds(sounds) {\n            let loadedSounds = [];\n            for (let sound of sounds) {\n                let audio = document.getElementById(sound);\n                if (audio) {\n                    loadedSounds.push(audio);\n                } else {\n                    console.error('Could not find: ' + sound);\n                }\n            }\n            return loadedSounds;\n        }\n        this.sounds = loadSounds(['intro', 'overworld', 'gameover',\n            'sword', 'bush']);\n\n        // TODO: refactor into methods\n        this.getSound = function(track) {\n            for (let sound of this.sounds) {\n                if (sound.id === track) {\n                    return sound;\n                }\n            }\n            return undefined;\n        }\n\n        this.setVolume = function(volume) {\n            this.volume = volume;\n            for (let sound of this.sounds) {\n                sound.volume = this.volume;\n            }\n        }\n\n        this.setVolume(this.volume);\n\n        this.playMusic = function(track) {\n            if (this.playing) {\n                this.playing.pause();\n                this.playing.currentTime = 0;\n                this.playing = undefined;\n            }\n\n            this.playing = this.getSound(track);\n\n            if (this.playing) {\n                this.playing.play();\n            }\n        }\n\n        this.playSound = function(track) {\n            let sound = this.getSound(track);\n\n            if (sound) {\n                sound.currentTime = 0;\n                sound.play();\n            }\n        }\n    }\n\n    static get instance() {\n        if (!this.soundInstance) {\n            this.soundInstance = new Sound();\n        }\n        return this.soundInstance;\n    }\n}\n\nexport default Sound;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Sound.js","'use strict';\n\nvar asap = require('asap/raw');\n\nfunction noop() {}\n\n// States:\n//\n// 0 - pending\n// 1 - fulfilled with _value\n// 2 - rejected with _value\n// 3 - adopted the state of another promise, _value\n//\n// once the state is no longer pending (0) it is immutable\n\n// All `_` prefixed properties will be reduced to `_{random number}`\n// at build time to obfuscate them and discourage their use.\n// We don't use symbols or Object.defineProperty to fully hide them\n// because the performance isn't good enough.\n\n\n// to avoid using try/catch inside critical functions, we\n// extract them to here.\nvar LAST_ERROR = null;\nvar IS_ERROR = {};\nfunction getThen(obj) {\n  try {\n    return obj.then;\n  } catch (ex) {\n    LAST_ERROR = ex;\n    return IS_ERROR;\n  }\n}\n\nfunction tryCallOne(fn, a) {\n  try {\n    return fn(a);\n  } catch (ex) {\n    LAST_ERROR = ex;\n    return IS_ERROR;\n  }\n}\nfunction tryCallTwo(fn, a, b) {\n  try {\n    fn(a, b);\n  } catch (ex) {\n    LAST_ERROR = ex;\n    return IS_ERROR;\n  }\n}\n\nmodule.exports = Promise;\n\nfunction Promise(fn) {\n  if (typeof this !== 'object') {\n    throw new TypeError('Promises must be constructed via new');\n  }\n  if (typeof fn !== 'function') {\n    throw new TypeError('not a function');\n  }\n  this._45 = 0;\n  this._81 = 0;\n  this._65 = null;\n  this._54 = null;\n  if (fn === noop) return;\n  doResolve(fn, this);\n}\nPromise._10 = null;\nPromise._97 = null;\nPromise._61 = noop;\n\nPromise.prototype.then = function(onFulfilled, onRejected) {\n  if (this.constructor !== Promise) {\n    return safeThen(this, onFulfilled, onRejected);\n  }\n  var res = new Promise(noop);\n  handle(this, new Handler(onFulfilled, onRejected, res));\n  return res;\n};\n\nfunction safeThen(self, onFulfilled, onRejected) {\n  return new self.constructor(function (resolve, reject) {\n    var res = new Promise(noop);\n    res.then(resolve, reject);\n    handle(self, new Handler(onFulfilled, onRejected, res));\n  });\n};\nfunction handle(self, deferred) {\n  while (self._81 === 3) {\n    self = self._65;\n  }\n  if (Promise._10) {\n    Promise._10(self);\n  }\n  if (self._81 === 0) {\n    if (self._45 === 0) {\n      self._45 = 1;\n      self._54 = deferred;\n      return;\n    }\n    if (self._45 === 1) {\n      self._45 = 2;\n      self._54 = [self._54, deferred];\n      return;\n    }\n    self._54.push(deferred);\n    return;\n  }\n  handleResolved(self, deferred);\n}\n\nfunction handleResolved(self, deferred) {\n  asap(function() {\n    var cb = self._81 === 1 ? deferred.onFulfilled : deferred.onRejected;\n    if (cb === null) {\n      if (self._81 === 1) {\n        resolve(deferred.promise, self._65);\n      } else {\n        reject(deferred.promise, self._65);\n      }\n      return;\n    }\n    var ret = tryCallOne(cb, self._65);\n    if (ret === IS_ERROR) {\n      reject(deferred.promise, LAST_ERROR);\n    } else {\n      resolve(deferred.promise, ret);\n    }\n  });\n}\nfunction resolve(self, newValue) {\n  // Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure\n  if (newValue === self) {\n    return reject(\n      self,\n      new TypeError('A promise cannot be resolved with itself.')\n    );\n  }\n  if (\n    newValue &&\n    (typeof newValue === 'object' || typeof newValue === 'function')\n  ) {\n    var then = getThen(newValue);\n    if (then === IS_ERROR) {\n      return reject(self, LAST_ERROR);\n    }\n    if (\n      then === self.then &&\n      newValue instanceof Promise\n    ) {\n      self._81 = 3;\n      self._65 = newValue;\n      finale(self);\n      return;\n    } else if (typeof then === 'function') {\n      doResolve(then.bind(newValue), self);\n      return;\n    }\n  }\n  self._81 = 1;\n  self._65 = newValue;\n  finale(self);\n}\n\nfunction reject(self, newValue) {\n  self._81 = 2;\n  self._65 = newValue;\n  if (Promise._97) {\n    Promise._97(self, newValue);\n  }\n  finale(self);\n}\nfunction finale(self) {\n  if (self._45 === 1) {\n    handle(self, self._54);\n    self._54 = null;\n  }\n  if (self._45 === 2) {\n    for (var i = 0; i < self._54.length; i++) {\n      handle(self, self._54[i]);\n    }\n    self._54 = null;\n  }\n}\n\nfunction Handler(onFulfilled, onRejected, promise){\n  this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n  this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n  this.promise = promise;\n}\n\n/**\n * Take a potentially misbehaving resolver function and make sure\n * onFulfilled and onRejected are only called once.\n *\n * Makes no guarantees about asynchrony.\n */\nfunction doResolve(fn, promise) {\n  var done = false;\n  var res = tryCallTwo(fn, function (value) {\n    if (done) return;\n    done = true;\n    resolve(promise, value);\n  }, function (reason) {\n    if (done) return;\n    done = true;\n    reject(promise, reason);\n  })\n  if (!done && res === IS_ERROR) {\n    done = true;\n    reject(promise, LAST_ERROR);\n  }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/promise/lib/core.js\n// module id = 1\n// module chunks = 0","import Game from './Game';\nimport './index.css';\n\nlet game = new Game(\"game\");\ngame.start();\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","// @remove-on-eject-begin\n/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n// @remove-on-eject-end\n'use strict';\n\nif (typeof Promise === 'undefined') {\n  // Rejection tracking prevents a common issue where React gets into an\n  // inconsistent state due to an error, but it gets swallowed by a Promise,\n  // and the user has no idea what causes React's erratic future behavior.\n  require('promise/lib/rejection-tracking').enable();\n  window.Promise = require('promise/lib/es6-extensions.js');\n}\n\n// fetch() polyfill for making API calls.\nrequire('whatwg-fetch');\n\n// Object.assign() is commonly used with React.\n// It will use the native implementation if it's present and isn't buggy.\nObject.assign = require('object-assign');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/react-scripts/config/polyfills.js\n// module id = 3\n// module chunks = 0","\"use strict\";\n\n// Use the fastest means possible to execute a task in its own turn, with\n// priority over other events including IO, animation, reflow, and redraw\n// events in browsers.\n//\n// An exception thrown by a task will permanently interrupt the processing of\n// subsequent tasks. The higher level `asap` function ensures that if an\n// exception is thrown by a task, that the task queue will continue flushing as\n// soon as possible, but if you use `rawAsap` directly, you are responsible to\n// either ensure that no exceptions are thrown from your task, or to manually\n// call `rawAsap.requestFlush` if an exception is thrown.\nmodule.exports = rawAsap;\nfunction rawAsap(task) {\n    if (!queue.length) {\n        requestFlush();\n        flushing = true;\n    }\n    // Equivalent to push, but avoids a function call.\n    queue[queue.length] = task;\n}\n\nvar queue = [];\n// Once a flush has been requested, no further calls to `requestFlush` are\n// necessary until the next `flush` completes.\nvar flushing = false;\n// `requestFlush` is an implementation-specific method that attempts to kick\n// off a `flush` event as quickly as possible. `flush` will attempt to exhaust\n// the event queue before yielding to the browser's own event loop.\nvar requestFlush;\n// The position of the next task to execute in the task queue. This is\n// preserved between calls to `flush` so that it can be resumed if\n// a task throws an exception.\nvar index = 0;\n// If a task schedules additional tasks recursively, the task queue can grow\n// unbounded. To prevent memory exhaustion, the task queue will periodically\n// truncate already-completed tasks.\nvar capacity = 1024;\n\n// The flush function processes all tasks that have been scheduled with\n// `rawAsap` unless and until one of those tasks throws an exception.\n// If a task throws an exception, `flush` ensures that its state will remain\n// consistent and will resume where it left off when called again.\n// However, `flush` does not make any arrangements to be called again if an\n// exception is thrown.\nfunction flush() {\n    while (index < queue.length) {\n        var currentIndex = index;\n        // Advance the index before calling the task. This ensures that we will\n        // begin flushing on the next task the task throws an error.\n        index = index + 1;\n        queue[currentIndex].call();\n        // Prevent leaking memory for long chains of recursive calls to `asap`.\n        // If we call `asap` within tasks scheduled by `asap`, the queue will\n        // grow, but to avoid an O(n) walk for every task we execute, we don't\n        // shift tasks off the queue after they have been executed.\n        // Instead, we periodically shift 1024 tasks off the queue.\n        if (index > capacity) {\n            // Manually shift all values starting at the index back to the\n            // beginning of the queue.\n            for (var scan = 0, newLength = queue.length - index; scan < newLength; scan++) {\n                queue[scan] = queue[scan + index];\n            }\n            queue.length -= index;\n            index = 0;\n        }\n    }\n    queue.length = 0;\n    index = 0;\n    flushing = false;\n}\n\n// `requestFlush` is implemented using a strategy based on data collected from\n// every available SauceLabs Selenium web driver worker at time of writing.\n// https://docs.google.com/spreadsheets/d/1mG-5UYGup5qxGdEMWkhP6BWCz053NUb2E1QoUTU16uA/edit#gid=783724593\n\n// Safari 6 and 6.1 for desktop, iPad, and iPhone are the only browsers that\n// have WebKitMutationObserver but not un-prefixed MutationObserver.\n// Must use `global` or `self` instead of `window` to work in both frames and web\n// workers. `global` is a provision of Browserify, Mr, Mrs, or Mop.\n\n/* globals self */\nvar scope = typeof global !== \"undefined\" ? global : self;\nvar BrowserMutationObserver = scope.MutationObserver || scope.WebKitMutationObserver;\n\n// MutationObservers are desirable because they have high priority and work\n// reliably everywhere they are implemented.\n// They are implemented in all modern browsers.\n//\n// - Android 4-4.3\n// - Chrome 26-34\n// - Firefox 14-29\n// - Internet Explorer 11\n// - iPad Safari 6-7.1\n// - iPhone Safari 7-7.1\n// - Safari 6-7\nif (typeof BrowserMutationObserver === \"function\") {\n    requestFlush = makeRequestCallFromMutationObserver(flush);\n\n// MessageChannels are desirable because they give direct access to the HTML\n// task queue, are implemented in Internet Explorer 10, Safari 5.0-1, and Opera\n// 11-12, and in web workers in many engines.\n// Although message channels yield to any queued rendering and IO tasks, they\n// would be better than imposing the 4ms delay of timers.\n// However, they do not work reliably in Internet Explorer or Safari.\n\n// Internet Explorer 10 is the only browser that has setImmediate but does\n// not have MutationObservers.\n// Although setImmediate yields to the browser's renderer, it would be\n// preferrable to falling back to setTimeout since it does not have\n// the minimum 4ms penalty.\n// Unfortunately there appears to be a bug in Internet Explorer 10 Mobile (and\n// Desktop to a lesser extent) that renders both setImmediate and\n// MessageChannel useless for the purposes of ASAP.\n// https://github.com/kriskowal/q/issues/396\n\n// Timers are implemented universally.\n// We fall back to timers in workers in most engines, and in foreground\n// contexts in the following browsers.\n// However, note that even this simple case requires nuances to operate in a\n// broad spectrum of browsers.\n//\n// - Firefox 3-13\n// - Internet Explorer 6-9\n// - iPad Safari 4.3\n// - Lynx 2.8.7\n} else {\n    requestFlush = makeRequestCallFromTimer(flush);\n}\n\n// `requestFlush` requests that the high priority event queue be flushed as\n// soon as possible.\n// This is useful to prevent an error thrown in a task from stalling the event\n// queue if the exception handled by Node.js’s\n// `process.on(\"uncaughtException\")` or by a domain.\nrawAsap.requestFlush = requestFlush;\n\n// To request a high priority event, we induce a mutation observer by toggling\n// the text of a text node between \"1\" and \"-1\".\nfunction makeRequestCallFromMutationObserver(callback) {\n    var toggle = 1;\n    var observer = new BrowserMutationObserver(callback);\n    var node = document.createTextNode(\"\");\n    observer.observe(node, {characterData: true});\n    return function requestCall() {\n        toggle = -toggle;\n        node.data = toggle;\n    };\n}\n\n// The message channel technique was discovered by Malte Ubl and was the\n// original foundation for this library.\n// http://www.nonblocking.io/2011/06/windownexttick.html\n\n// Safari 6.0.5 (at least) intermittently fails to create message ports on a\n// page's first load. Thankfully, this version of Safari supports\n// MutationObservers, so we don't need to fall back in that case.\n\n// function makeRequestCallFromMessageChannel(callback) {\n//     var channel = new MessageChannel();\n//     channel.port1.onmessage = callback;\n//     return function requestCall() {\n//         channel.port2.postMessage(0);\n//     };\n// }\n\n// For reasons explained above, we are also unable to use `setImmediate`\n// under any circumstances.\n// Even if we were, there is another bug in Internet Explorer 10.\n// It is not sufficient to assign `setImmediate` to `requestFlush` because\n// `setImmediate` must be called *by name* and therefore must be wrapped in a\n// closure.\n// Never forget.\n\n// function makeRequestCallFromSetImmediate(callback) {\n//     return function requestCall() {\n//         setImmediate(callback);\n//     };\n// }\n\n// Safari 6.0 has a problem where timers will get lost while the user is\n// scrolling. This problem does not impact ASAP because Safari 6.0 supports\n// mutation observers, so that implementation is used instead.\n// However, if we ever elect to use timers in Safari, the prevalent work-around\n// is to add a scroll event listener that calls for a flush.\n\n// `setTimeout` does not call the passed callback if the delay is less than\n// approximately 7 in web workers in Firefox 8 through 18, and sometimes not\n// even then.\n\nfunction makeRequestCallFromTimer(callback) {\n    return function requestCall() {\n        // We dispatch a timeout with a specified delay of 0 for engines that\n        // can reliably accommodate that request. This will usually be snapped\n        // to a 4 milisecond delay, but once we're flushing, there's no delay\n        // between events.\n        var timeoutHandle = setTimeout(handleTimer, 0);\n        // However, since this timer gets frequently dropped in Firefox\n        // workers, we enlist an interval handle that will try to fire\n        // an event 20 times per second until it succeeds.\n        var intervalHandle = setInterval(handleTimer, 50);\n\n        function handleTimer() {\n            // Whichever timer succeeds will cancel both timers and\n            // execute the callback.\n            clearTimeout(timeoutHandle);\n            clearInterval(intervalHandle);\n            callback();\n        }\n    };\n}\n\n// This is for `asap.js` only.\n// Its name will be periodically randomized to break any code that depends on\n// its existence.\nrawAsap.makeRequestCallFromTimer = makeRequestCallFromTimer;\n\n// ASAP was originally a nextTick shim included in Q. This was factored out\n// into this ASAP package. It was later adapted to RSVP which made further\n// amendments. These decisions, particularly to marginalize MessageChannel and\n// to capture the MutationObserver implementation in a closure, were integrated\n// back into ASAP proper.\n// https://github.com/tildeio/rsvp.js/blob/cddf7232546a9cf858524b75cde6f9edf72620a7/lib/rsvp/asap.js\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/asap/browser-raw.js\n// module id = 4\n// module chunks = 0","class Controller {\n  \n  KEYCODES = {\n    UP: 38,\n    DOWN: 40,\n    LEFT: 37,\n    RIGHT: 39,\n    SPACE: 32,\n    ENTER: 13\n  };\n\n  constructor() {\n    this.keyStates = {};\n    let toggleKey = (keyCode, down) => this.keyStates[keyCode] = down;\n\n    window.addEventListener('keydown', (event) => toggleKey(event.keyCode, true));\n    window.addEventListener('keyup',   (event) => toggleKey(event.keyCode, false));\n  }\n\n  pressed(keyCode) {\n    return !!this.keyStates[keyCode];\n  }\n\n  up() {\n    return this.pressed(this.KEYCODES.UP);\n  }\n\n  down() {\n    return this.pressed(this.KEYCODES.DOWN);\n  }\n\n  left() {\n    return this.pressed(this.KEYCODES.LEFT);\n  }\n\n  right() {\n    return this.pressed(this.KEYCODES.RIGHT);\n  }\n\n  space() {\n    return this.pressed(this.KEYCODES.SPACE);\n  }\n\n  enter() {\n    return this.pressed(this.KEYCODES.ENTER);\n  }\n  \n}\n\nexport default Controller;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Controller.js","import Sound from './Sound';\nimport Logo from './Logo';\nimport WorldMap from './WorldMap';\nimport Controller from './Controller';\nimport Player from './Player';\nimport './Game.css';\n\nclass Game {\n  SCENE = {\n    LOADING: 0,\n    INTRO: 1,\n    GAME: 2\n  }\n\n  constructor(canvasId) {\n    this.sound = Sound.instance;\n\n    this.canvas = document.getElementById(canvasId);\n    this.width = this.canvas.width;\n    this.height = this.canvas.height;\n    this.context = this.canvas.getContext('2d');\n    this.objects = [];\n\n    this.controller = new Controller();\n  }\n\n  start() {\n    this.scene = this.SCENE.LOADING;\n    this.gameloop();\n  }\n\n  intro() {\n    this.objects = [];\n    this.addObject(new Logo());\n    this.scene = this.SCENE.INTRO;\n    this.sound.playMusic(\"intro\");\n  }\n\n  game() {\n    this.objects = [];\n    this.scene = this.SCENE.GAME;\n    this.sound.playMusic(\"overworld\");\n    this.map = new WorldMap();\n    this.player = new Player(this.map.start.x * 16 + 8, this.map.start.y * 16 + 8);\n    this.map.objects.forEach((object) => this.addObject(object));\n  }\n\n  loading() {\n    let percentage = document.getElementById(\"loading\").dataset.percent;\n\n    if (percentage >= 1.0) {\n        this.intro();\n    } else {\n      this.draw();\n\n      let x = this.width / 4,\n        y = this.height / 2 - 5,\n        width = this.width / 2;\n\n      this.context.fillStyle = 'darkred';\n      this.context.fillRect(x - 2, y - 2, width + 4, 10 + 4);\n      this.context.fillStyle = 'red';\n      this.context.fillRect(x, y, width * percentage, 10);\n    } \n  }\n\n  addObject(object) {\n    this.objects.push(object);\n    object.spawn();\n  }\n\n  gameloop() {\n    if (this.scene === this.SCENE.LOADING) {\n      this.loading();\n    } else {\n      this.update();\n      this.draw();\n    }\n\n    requestAnimationFrame(() => this.gameloop());\n  }\n\n  update() {\n    if (this.scene === this.SCENE.INTRO && (this.controller.space() || this.controller.enter())) {\n      this.game();\n    } else if (this.scene === this.SCENE.GAME) {\n      if (this.controller.space() && !this.player.swingingSword) {\n        this.player.use(this.context);\n        this.sound.playSound(\"sword\");\n      } else {\n        if (this.controller.down()) {\n         this.player.down();\n        } else if (this.controller.up()) {\n          this.player.up();\n        }\n        if (this.controller.right()) {\n         this.player.right();\n        } else if (this.controller.left()) {\n         this.player.left();\n        }\n      }\n    }\n\n    if (this.map) this.map.update();\n    if (this.player) this.player.update(this.objects);\n\n    for (let object of this.objects) {\n      if (!object.update()) {\n        this.objects.splice(this.objects.indexOf(object), 1);\n      };\n    }\n  }\n\n  draw() {\n    let offset = this.offset();\n    this.context.clearRect(0, 0, this.width, this.height);\n\n    if (this.map) this.map.draw(this.context, offset);\n\n    for (let object of this.objects) {\n      object.draw(this.context, offset);\n    }\n\n    if (this.player) this.player.draw(this.context, offset);\n  }\n\n  offset() {\n    let x = 0, \n        y = 0;\n    if (this.player) {\n      x = this.player.x - this.width / 2;\n      y = this.player.y - this.height / 2;\n      \n      if (x < 0) {\n        x = 0;\n      } else if (x > this.map.width * 16 - this.width) {\n        x = this.map.width * 16 - this.width;\n      }\n      \n      if (y < 0) {\n        y = 0;\n      } else if (y > this.map.height * 16 - this.height) {\n        y = this.map.height * 16 - this.height;\n      }\n    }\n    return {\n      x: x,\n      y: y\n    };\n  }\n}\n\nexport default Game;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Game.js","class Logo {\n    constructor(x, y) {\n        this.text = \"Overworld\";\n        this.font = \"'Press Start 2P', Courier\";\n        this.size = 18;\n        this.x = x || 40;\n        this.y = y || 40;\n        this.strokeStyle = 'black';\n        this.fillStyle = 'red';\n        this.step = 0;\n    }\n\n    spawn() {\n\n    }\n\n    draw(context) {\n        context.globalAlpha = 1;\n        context.font = \"19px \" + this.font;\n        context.fillStyle = 'darkred';\n        context.fillText(this.text, 40 - 4 + Math.cos(this.step / 50), 40 + 3 + Math.cos(this.step / 40) * 2);\n\n        context.font = \"18px \" + this.font;\n        context.fillStyle = 'red';\n        context.fillText(this.text, 40, 40 + Math.cos(this.step / 40) * 2);\n\n        context.font = \"9px \" + this.font;\n        context.fillStyle = 'white';\n        context.fillText(\"A tiny Zeldaish game\", 30, 70);\n        context.fillText(\" made by John Forne\", 30, 80);\n        context.fillText(\"     in 2017\", 30, 90);\n        context.fillText(\" music by visager.us\", 30, 110);\n\n        context.fillStyle = 'white';\n        context.globalAlpha = 0.5 + Math.abs(Math.cos(this.step / 40) / 2);\n        context.fillText(\"<press space to play>\", 30, 135);\n        context.globalAlpha = 1;\n    }\n\n    update() {\n        this.step = this.step + 1;\n        return true;\n    }\n}\n\nexport default Logo;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Logo.js","class Player {\n    constructor(x, y) {\n        this.x = x;\n        this.y = y;\n        this.width = 8;\n        this.height = this.width;\n        this.changeSprite = 1;\n        this.walkingStep = 0;\n        this.direction = 'down';\n        this.sprite = 'player_' + this.direction + '_' + this.walkingStep;\n        this.walkingX = 0;\n        this.walkingY = 0; \n    }\n\n    spawn() {\n\n    }\n\n    use() {\n        this.swingingSword = true;\n        this.swordSwing = 5;\n    }\n\n    hitbox() {\n        return {\n            x: this.x - this.width / 2,\n            y: this.y - this.height / 2\n        };\n    }\n\n    draw(context, offset) {\n        // TODO: Circle hitbox?\n        let sprite = document.getElementById(this.sprite),\n            xOffset = (sprite.dataset.x || 0) - offset.x,\n            yOffset = (sprite.dataset.y || 0) - offset.y;\n\n        context.drawImage(sprite, this.hitbox().x - (22 - this.width) / 2 + xOffset, this.hitbox().y - 6 - (22 - this.height) / 2 + yOffset);\n        \n        if (this.debug) {\n            context.strokeStyle = 'red';\n            context.strokeRect(this.hitbox().x - offset.x, this.hitbox().y - offset.y, this.width, this.width);\n        \n            if (this.swingingSword) {\n                context.strokeRect(this.swordBox.x - offset.x, this.swordBox.y - offset.y, this.swordBox.width, this.swordBox.height);\n            }\n        }\n}\n\n    collides(x, y, object) {\n        return this._collides(x, y, this.width, this.height, object);\n    }\n\n    _collides(x, y, width, height, object) {\n        return !(\n            (x + width / 2 < object.x) ||\n            (x - width / 2 > object.x + object.width) ||\n            (y + height / 2 < object.y) ||\n            (y - height / 2 > object.y + object.height)\n        ); \n    }\n\n    _swordBox(direction) {\n        let hitbox = this.hitbox();\n        let swingSize = 16; // TODO: Breaks if not 16, maybe fix\n\n        let swordBox = {\n            x: hitbox.x,\n            y: hitbox.y,\n            width: swingSize,\n            height: swingSize\n        };\n    \n        if (this.direction === 'down') {\n            swordBox.y += this.height;\n            swordBox.x -= this.width / 2;\n        } else if (this.direction === 'up') {\n            swordBox.y -= swingSize;\n            swordBox.x -= this.width / 2;\n        } else if (this.direction === 'right') {\n            swordBox.x += this.width;\n            swordBox.y -= this.height / 2;\n        } else if (this.direction === 'left') {\n            swordBox.x -= swingSize;\n            swordBox.y -= this.height / 2;\n        }\n\n        swordBox.centerX = swordBox.x + swingSize / 2;\n        swordBox.centerY = swordBox.y + swingSize / 2;\n\n        return swordBox;\n    }\n\n    _damage(objects) {\n        this.swordBox = this._swordBox(this.direction);\n        let swordBox = this.swordBox;\n        for (let object of objects) {\n            if (typeof object.damage === \"function\") {\n                if (this._collides(swordBox.centerX, swordBox.centerY, swordBox.width, swordBox.height, object)) {\n                    object.damage();\n                }\n            }  \n        }\n    }\n\n    update(objects) {\n        let sprite = undefined;\n        if (this.swingingSword) {\n            if (this.swordSwing === 5) {\n                this._damage(objects);\n            }\n\n            sprite = 'sword_' + this.direction + '_' + Number.parseInt(Math.abs(5 - Math.ceil(this.swordSwing)), 10);\n            this.swordSwing = this.swordSwing - 0.25;\n            if (this.swordSwing <= 0) {\n                this.swingingSword = false;\n            }\n        } else if (this.walkingX || this.walkingY) {\n            this.changeSprite = this.changeSprite - 1;\n            if (this.changeSprite === 0) {\n                this.walkingStep = (this.walkingStep + 1) % 7;\n                this.changeSprite = 6;\n            }\n\n            let x = this.x + this.walkingX,\n                y = this.y + this.walkingY,\n                collisionX = false,\n                collisionY = false;\n            \n            if (this.walkingY > 0) this.direction = 'down';\n            else if (this.walkingY < 0) this.direction = 'up';\n            if (this.walkingX > 0) this.direction = 'right';\n            else if (this.walkingX < 0) this.direction = 'left';\n\n            for (let object of objects) {\n                if (this.walkingY !== 0 && this.collides(this.x, y, object)) {\n                    this.walkingY = 0;\n                    y = this.y;\n                    this.collisionY = true;\n                }\n                if (this.walkingX !== 0 && this.collides(x, this.y, object)) {\n                    this.walkingX = 0;\n                    x = this.x;\n                    this.collisionX = true;\n                }\n            }\n\n            if (!collisionX) {\n                this.x = x;\n            }\n            if (!collisionY) {\n                 this.y = y;\n            }\n            \n            this.walkingX = 0;\n            this.walkingY = 0;\n        } else {\n            this.walkingStep = 0;\n            this.changeSprite = 1;\n        }\n        if (sprite === undefined) {\n            sprite = 'player_' + this.direction + '_' + this.walkingStep;\n        }\n        this.sprite = sprite;\n        return true;\n    }\n\n    down() {\n        this.walkingY = 1;\n    }\n\n    up() {\n        this.walkingY = -1;\n    }\n\n    left() {\n        this.walkingX = -1;\n    }\n\n    right() {\n        this.walkingX = 1;\n    }\n}\n\nexport default Player;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Player.js","import Bush from './obstacles/Bush';\nimport Border from './obstacles/Border';\n\nclass WorldMap {\n    constructor() {\n        this.width = 100;\n        this.height = 60;\n\n        this.map = [];\n        this.objects = [];\n\n        let sprites = [\n            \"grass_0\",\"grass_0\",\"grass_0\",\"grass_0\",\n            \"grass_1\",\n            \"bush_1\"\n        ];\n\n        // Generation\n        this.map = WorldMap._generateMap(this.width, this.height);\n\n        // Painting\n        for (let x = 0; x < this.width; x++) {\n            for (let y = 0; y < this.height; y++) {\n                let cell = this.map[x][y];\n\n                if (cell.type === 'end') {\n                    cell.sprite = 'tiles';\n                } else if (cell.type === 'border') {\n                    cell.sprite = WorldMap._getBorderBlock(this.map, x, y);\n                } else if (cell.type === 'start') {\n                    this.start = {\n                        x: x,\n                        y: y\n                    };\n                    cell.sprite = 'tiles';\n                }  else {\n                    cell.sprite = sprites[Number.parseInt(Math.round(Math.random() * (sprites.length - 1)), 10)];\n                }\n            }\n        }\n\n        // Treeification\n        this._treefy();\n        this._poleify();\n\n        // Objectification\n        for (let x = 0; x < this.width; x++) {\n            for (let y = 0; y < this.height; y++) {\n                let cell = this.map[x][y];\n                if (cell.sprite === 'bush_1') {\n                    this.objects.push(new Bush(x * 16, y * 16));\n                }\n                if (cell.type === 'border') {\n                    this.objects.push(new Border(x * 16, y * 16));\n                }\n            }\n        }\n    }\n\n    _poleify() {\n        let isPole = (x, y) => this.map[x][y].sprite.indexOf('pole_') !== -1;\n        \n        for (let x = 0; x < this.width - 1; x++) {\n            for (let y = 0; y < this.height - 1; y++) {\n                if (isPole(x, y)) {\n                    let south = isPole(x, y + 1),\n                        east = isPole(x + 1, y),\n                        west = isPole(x - 1, y);\n                    if (west && !east && !south) {\n                        this.map[x][y].sprite = 'pole_west';\n                    } else if (!west && east && !south) {\n                        this.map[x][y].sprite = 'pole_east';\n                    } else if (!west && !east && south) {\n                        this.map[x][y].sprite = 'pole_south';\n                    } else if (west && east && !south) {\n                        this.map[x][y].sprite = 'pole_east_west';\n                    } else if (!west && east && south) {\n                        this.map[x][y].sprite = 'pole_south_east';\n                    } else if (west && !east && south) {\n                        this.map[x][y].sprite = 'pole_south_west';\n                    } else if (west && east && south) {\n                        this.map[x][y].sprite = 'pole_south_east_west';\n                    }\n                }\n            }\n        }\n    }\n\n    _treefy() {\n        for (let x = 0; x < this.width - 1; x++) {\n            for (let y = 0; y < this.height - 1; y++) {\n                if (this.map[x][y].sprite === 'border_northwest'\n                    && this.map[x + 1][y].sprite === 'border_northeast'\n                    && this.map[x][y + 1].sprite === 'border_southwest'\n                    && this.map[x + 1][y + 1].sprite === 'border_southeast') {\n                        let tile = Math.random() >= 0.5 ? 'tree' : 'stump';\n                        this.map[x][y].sprite = tile + '_northwest'\n                        this.map[x + 1][y].sprite = tile + '_northeast'\n                        this.map[x][y + 1].sprite = tile + '_southwest'\n                        this.map[x + 1][y + 1].sprite = tile + '_southeast'\n                } \n            }\n        }\n    }\n\n    static _getEnd(width, height) {\n        let fiftyFifty = () => Math.random() >= 0.6,\n            placeOnX = fiftyFifty(),\n            x = placeOnX \n                ? 3 + Math.floor(Math.random() * (width - 6)) \n                : fiftyFifty() ? 0 : width - 1,\n            y = !placeOnX \n                ? 3 + Math.floor(Math.random() * (height - 6))\n                : fiftyFifty() ? 0 : height - 1;\n        return [\n            {\n                x: x,\n                y: y\n            },\n            {\n                x: x + (placeOnX ? (fiftyFifty() ? -1 : 1) : 0) * 1,\n                y: y + (!placeOnX ? (fiftyFifty() ? -1 : 1) : 0) * 1,\n            }];\n    }\n\n    static _borderPercentace(map) {\n        let cells = 0,\n            borders = 0;\n        for (let x = 0; x < map.length; x++) {\n            for (let y = 0; y < map[x].length; y++) {\n                cells += 1;\n                if (map[x][y].type === 'border') borders += 1;\n            }\n        }\n        return borders / cells;\n    }\n\n    static _generateMap(width, height) {\n        let map = [];\n\n        for (let x = 0; x < width; x++) {\n            map.push([]);\n            for (let y = 0; y < height; y++) {\n                map[x].push({\n                    type: 'border'\n                });\n            }\n        }\n        let end = WorldMap._getEnd(width, height);\n        for (let endPos of end) {\n            map[endPos.x][endPos.y].type = 'end';\n        }\n\n        let drunkWalk = (pos) => {\n            let directions = [];\n            for (let direction of [{x: -1, y: 0}, {x: 1, y: 0}, {x: 0, y: -1}, {x: 0, y: 1}]) {\n                let checkPos = {\n                    x: pos.x + direction.x,\n                    y: pos.y + direction.y\n                };\n                if (checkPos.x > 0 && checkPos.x < width - 1 && checkPos.y > 0 && checkPos.y < height - 1) {\n                    directions.push(direction);\n                    if (map[checkPos.x][checkPos.y].type === 'border') {\n                        directions.push(direction);\n                    }\n                }\n            }\n\n            let walk = directions[Math.floor(Math.random() * directions.length)],\n                newPos = {\n                    x: pos.x + walk.x,\n                    y: pos.y + walk.y\n            };\n\n            map[newPos.x][newPos.y].type = 'grass';\n            return newPos;\n        };\n        let pos = drunkWalk(end[0]);\n        while (WorldMap._borderPercentace(map) > 0.6) {\n            pos = drunkWalk(pos);\n        }\n\n        let start = function findStart(pos) {\n            let directions = [{x: -1, y: 0}, {x: 1, y: 0}, {x: 0, y: -1}, {x: 0, y: 1}],\n                walk = directions[Math.floor(Math.random() * directions.length)],\n                newPos = {\n                    x: pos.x + walk.x,\n                    y: pos.y + walk.y\n            };\n\n            if (newPos.x > 0 && newPos.x < width - 1 && newPos.y > 0 && newPos.y < height - 1) {\n                pos = newPos;\n                if (map[pos.x][pos.y].type === 'grass') {\n                    map[pos.x][pos.y].type = 'start';\n                    return pos;\n                }\n            }\n            return findStart(pos);\n        };\n        start({x: width / 2, y: height / 2});\n        return map;\n    }\n\n    static _getBorderBlock(map, x, y) {\n        let south = WorldMap._isBorder(map, x, y + 1),\n            north = WorldMap._isBorder(map, x, y - 1),\n            east = WorldMap._isBorder(map, x + 1, y),\n            west = WorldMap._isBorder(map, x - 1, y),\n            southwest = WorldMap._isBorder(map, x - 1, y + 1),\n            southeast = WorldMap._isBorder(map, x + 1, y + 1),\n            northwest = WorldMap._isBorder(map, x - 1, y - 1),\n            northeast = WorldMap._isBorder(map, x + 1, y - 1);\n\n        if (north && south && west && east) {\n            if (northeast && northwest && southeast && !southwest) {\n                return 'border_inner_southwest';\n            } else if (northeast && northwest && !southeast && southwest) {\n                return 'border_inner_southeast';\n            } else if (northeast && !northwest && southeast && southwest) {\n                return 'border_inner_northwest';\n            } else if (!northeast && northwest && southeast && southwest) {\n                return 'border_inner_northeast';\n            } else if (northeast && northwest && southeast && southwest) {\n                return 'border_full';\n            } else if (northeast && northwest && !southeast && !southwest) {\n                return 'border_south';\n            } else if (northeast && !northwest && southeast && !southwest) {\n                return 'border_west';\n            } else if (!northeast && northwest && !southeast && southwest) {\n                return 'border_east';\n            } else if (!northeast && !northwest && southeast && southwest) {\n                return 'border_north';\n            } else if (!northeast && northwest && southeast && !southwest) {\n                return 'border_northwest_southeast';\n            } else if (northeast && !northwest && !southeast && southwest) {\n                return 'border_northeast_southwest';\n            }\n        }\n        if (north && south && west && !east && northwest && southwest) {\n            return 'border_east';\n        } else if (north && south && !west && east && northeast && southeast) {\n            return 'border_west';\n        } else if (north && !south && west && east && northwest && northeast) {\n            return 'border_south';\n        } else if (!north && south && west && east && southeast && southwest) {\n            return 'border_north';\n        } else if ((!south || !west || !southwest) && north && east && northeast) {\n            return 'border_southwest';\n        } else if ((!south || !east || !southeast) && north && west && northwest) {\n            return 'border_southeast';\n        } else if ((!north || !west || !northwest) && south && east && southeast) {\n            return 'border_northwest';\n        } else if ((!north || !east || !northeast) && south && west && southwest) {\n            return 'border_northeast';\n        }\n        return 'pole_alone';\n    }\n\n    static _isBorder(map, x, y) {\n        return !map[x] || !map[x][y] || map[x][y].type === 'border';\n    }\n\n    spawn() {\n\n    }\n\n    draw(context, offset) {\n        for (var i = 0; i < this.width; i++) {\n            for (var j = 0; j < this.height; j++) {\n                let cell = this.map[i][j];\n                context.drawImage(document.getElementById(cell.sprite), i * 16 - offset.x, j * 16 - offset.y);\n            }\n        }\n    }\n\n    update() {\n        return true;\n    }\n}\n\nexport default WorldMap;\n\n\n\n// WEBPACK FOOTER //\n// ./src/WorldMap.js","\nclass Border {\n   constructor(x, y) {\n       this.x = x;\n       this.y = y;\n       this.width = 16;\n       this.height = 16;\n   }\n\n   spawn() {\n\n   }\n\n   update() {\n       return true;\n   }\n\n   draw(context, offset) {\n   }\n  \n}\n\nexport default Border;\n\n\n\n// WEBPACK FOOTER //\n// ./src/obstacles/Border.js","import Leaf from './Leaf';\nimport Sound from '../Sound';\n\nclass Bush {\n   constructor(x, y) {\n       this.x = x;\n       this.y = y;\n       this.width = 16;\n       this.height = 16;\n       this.alive = true;\n       this.timeToLive = 10;\n       this.leaves = [this._leaf(), this._leaf(), this._leaf(), this._leaf(), this._leaf()];\n   }\n\n   _leaf() {\n       return new Leaf(this.x + this.width / 2, this.y);\n   }\n\n   spawn() {\n\n   }\n\n   update() {\n       if (!this.alive) {\n           for (let leaf of this.leaves) {\n               leaf.update();\n           }\n           if (this.timeToLive-- <= 0) {\n               return false;\n           }\n       }\n       return true;\n   }\n\n   damage() {\n       this.alive = false;\n       Sound.instance.playSound('bush');\n   }\n\n   draw(context, offset) {\n       if (this.alive) {\n           context.drawImage(document.getElementById(\"bush_0\"), this.x - offset.x, this.y - offset.y);\n       } else {\n           for (let leaf of this.leaves) {\n               leaf.draw(context, offset);\n           }\n       }\n   }\n  \n}\n\nexport default Bush;\n\n\n\n// WEBPACK FOOTER //\n// ./src/obstacles/Bush.js","class Leaf {\n    constructor(x, y, id) {\n        this.x = x || 0;\n        this.y = y || 0;\n        this.startY = this.y;\n        this.step = 0;\n        let maxSpread = 2;\n        this.direction = Math.random() * maxSpread * 2 - maxSpread;\n        this.sprite = 'leaf_' + Number.parseInt(Math.round(Math.random(2)), 10);\n    }\n\n    spawn() {\n    \n    }\n\n    draw(context, offset) {\n        context.drawImage(document.getElementById(this.sprite), this.x - offset.x, this.y - offset.y);\n    }\n\n    update() {\n        this.step = this.step + 1;\n        let time = 40;\n        this.x = this.x + this.direction;\n        let bounce = (Math.cos(this.step / 2) * 4) * (time - this.step) / time;\n        this.y = this.startY + bounce;\n\n        return this.step < time;\n    }\n}\n\nexport default Leaf;\n\n\n\n// WEBPACK FOOTER //\n// ./src/obstacles/Leaf.js","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/object-assign/index.js\n// module id = 15\n// module chunks = 0","'use strict';\n\n//This file contains the ES6 extensions to the core Promises/A+ API\n\nvar Promise = require('./core.js');\n\nmodule.exports = Promise;\n\n/* Static Functions */\n\nvar TRUE = valuePromise(true);\nvar FALSE = valuePromise(false);\nvar NULL = valuePromise(null);\nvar UNDEFINED = valuePromise(undefined);\nvar ZERO = valuePromise(0);\nvar EMPTYSTRING = valuePromise('');\n\nfunction valuePromise(value) {\n  var p = new Promise(Promise._61);\n  p._81 = 1;\n  p._65 = value;\n  return p;\n}\nPromise.resolve = function (value) {\n  if (value instanceof Promise) return value;\n\n  if (value === null) return NULL;\n  if (value === undefined) return UNDEFINED;\n  if (value === true) return TRUE;\n  if (value === false) return FALSE;\n  if (value === 0) return ZERO;\n  if (value === '') return EMPTYSTRING;\n\n  if (typeof value === 'object' || typeof value === 'function') {\n    try {\n      var then = value.then;\n      if (typeof then === 'function') {\n        return new Promise(then.bind(value));\n      }\n    } catch (ex) {\n      return new Promise(function (resolve, reject) {\n        reject(ex);\n      });\n    }\n  }\n  return valuePromise(value);\n};\n\nPromise.all = function (arr) {\n  var args = Array.prototype.slice.call(arr);\n\n  return new Promise(function (resolve, reject) {\n    if (args.length === 0) return resolve([]);\n    var remaining = args.length;\n    function res(i, val) {\n      if (val && (typeof val === 'object' || typeof val === 'function')) {\n        if (val instanceof Promise && val.then === Promise.prototype.then) {\n          while (val._81 === 3) {\n            val = val._65;\n          }\n          if (val._81 === 1) return res(i, val._65);\n          if (val._81 === 2) reject(val._65);\n          val.then(function (val) {\n            res(i, val);\n          }, reject);\n          return;\n        } else {\n          var then = val.then;\n          if (typeof then === 'function') {\n            var p = new Promise(then.bind(val));\n            p.then(function (val) {\n              res(i, val);\n            }, reject);\n            return;\n          }\n        }\n      }\n      args[i] = val;\n      if (--remaining === 0) {\n        resolve(args);\n      }\n    }\n    for (var i = 0; i < args.length; i++) {\n      res(i, args[i]);\n    }\n  });\n};\n\nPromise.reject = function (value) {\n  return new Promise(function (resolve, reject) {\n    reject(value);\n  });\n};\n\nPromise.race = function (values) {\n  return new Promise(function (resolve, reject) {\n    values.forEach(function(value){\n      Promise.resolve(value).then(resolve, reject);\n    });\n  });\n};\n\n/* Prototype Methods */\n\nPromise.prototype['catch'] = function (onRejected) {\n  return this.then(null, onRejected);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/promise/lib/es6-extensions.js\n// module id = 16\n// module chunks = 0","'use strict';\n\nvar Promise = require('./core');\n\nvar DEFAULT_WHITELIST = [\n  ReferenceError,\n  TypeError,\n  RangeError\n];\n\nvar enabled = false;\nexports.disable = disable;\nfunction disable() {\n  enabled = false;\n  Promise._10 = null;\n  Promise._97 = null;\n}\n\nexports.enable = enable;\nfunction enable(options) {\n  options = options || {};\n  if (enabled) disable();\n  enabled = true;\n  var id = 0;\n  var displayId = 0;\n  var rejections = {};\n  Promise._10 = function (promise) {\n    if (\n      promise._81 === 2 && // IS REJECTED\n      rejections[promise._72]\n    ) {\n      if (rejections[promise._72].logged) {\n        onHandled(promise._72);\n      } else {\n        clearTimeout(rejections[promise._72].timeout);\n      }\n      delete rejections[promise._72];\n    }\n  };\n  Promise._97 = function (promise, err) {\n    if (promise._45 === 0) { // not yet handled\n      promise._72 = id++;\n      rejections[promise._72] = {\n        displayId: null,\n        error: err,\n        timeout: setTimeout(\n          onUnhandled.bind(null, promise._72),\n          // For reference errors and type errors, this almost always\n          // means the programmer made a mistake, so log them after just\n          // 100ms\n          // otherwise, wait 2 seconds to see if they get handled\n          matchWhitelist(err, DEFAULT_WHITELIST)\n            ? 100\n            : 2000\n        ),\n        logged: false\n      };\n    }\n  };\n  function onUnhandled(id) {\n    if (\n      options.allRejections ||\n      matchWhitelist(\n        rejections[id].error,\n        options.whitelist || DEFAULT_WHITELIST\n      )\n    ) {\n      rejections[id].displayId = displayId++;\n      if (options.onUnhandled) {\n        rejections[id].logged = true;\n        options.onUnhandled(\n          rejections[id].displayId,\n          rejections[id].error\n        );\n      } else {\n        rejections[id].logged = true;\n        logError(\n          rejections[id].displayId,\n          rejections[id].error\n        );\n      }\n    }\n  }\n  function onHandled(id) {\n    if (rejections[id].logged) {\n      if (options.onHandled) {\n        options.onHandled(rejections[id].displayId, rejections[id].error);\n      } else if (!rejections[id].onUnhandled) {\n        console.warn(\n          'Promise Rejection Handled (id: ' + rejections[id].displayId + '):'\n        );\n        console.warn(\n          '  This means you can ignore any previous messages of the form \"Possible Unhandled Promise Rejection\" with id ' +\n          rejections[id].displayId + '.'\n        );\n      }\n    }\n  }\n}\n\nfunction logError(id, error) {\n  console.warn('Possible Unhandled Promise Rejection (id: ' + id + '):');\n  var errStr = (error && (error.stack || error)) + '';\n  errStr.split('\\n').forEach(function (line) {\n    console.warn('  ' + line);\n  });\n}\n\nfunction matchWhitelist(error, list) {\n  return list.some(function (cls) {\n    return error instanceof cls;\n  });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/promise/lib/rejection-tracking.js\n// module id = 17\n// module chunks = 0","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/global.js\n// module id = 18\n// module chunks = 0","(function(self) {\n  'use strict';\n\n  if (self.fetch) {\n    return\n  }\n\n  var support = {\n    searchParams: 'URLSearchParams' in self,\n    iterable: 'Symbol' in self && 'iterator' in Symbol,\n    blob: 'FileReader' in self && 'Blob' in self && (function() {\n      try {\n        new Blob()\n        return true\n      } catch(e) {\n        return false\n      }\n    })(),\n    formData: 'FormData' in self,\n    arrayBuffer: 'ArrayBuffer' in self\n  }\n\n  if (support.arrayBuffer) {\n    var viewClasses = [\n      '[object Int8Array]',\n      '[object Uint8Array]',\n      '[object Uint8ClampedArray]',\n      '[object Int16Array]',\n      '[object Uint16Array]',\n      '[object Int32Array]',\n      '[object Uint32Array]',\n      '[object Float32Array]',\n      '[object Float64Array]'\n    ]\n\n    var isDataView = function(obj) {\n      return obj && DataView.prototype.isPrototypeOf(obj)\n    }\n\n    var isArrayBufferView = ArrayBuffer.isView || function(obj) {\n      return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n    }\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name)\n    }\n    if (/[^a-z0-9\\-#$%&'*+.\\^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value)\n    }\n    return value\n  }\n\n  // Build a destructive iterator for the value list\n  function iteratorFor(items) {\n    var iterator = {\n      next: function() {\n        var value = items.shift()\n        return {done: value === undefined, value: value}\n      }\n    }\n\n    if (support.iterable) {\n      iterator[Symbol.iterator] = function() {\n        return iterator\n      }\n    }\n\n    return iterator\n  }\n\n  function Headers(headers) {\n    this.map = {}\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value)\n      }, this)\n    } else if (Array.isArray(headers)) {\n      headers.forEach(function(header) {\n        this.append(header[0], header[1])\n      }, this)\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name])\n      }, this)\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name)\n    value = normalizeValue(value)\n    var oldValue = this.map[name]\n    this.map[name] = oldValue ? oldValue+','+value : value\n  }\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)]\n  }\n\n  Headers.prototype.get = function(name) {\n    name = normalizeName(name)\n    return this.has(name) ? this.map[name] : null\n  }\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  }\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = normalizeValue(value)\n  }\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    for (var name in this.map) {\n      if (this.map.hasOwnProperty(name)) {\n        callback.call(thisArg, this.map[name], name, this)\n      }\n    }\n  }\n\n  Headers.prototype.keys = function() {\n    var items = []\n    this.forEach(function(value, name) { items.push(name) })\n    return iteratorFor(items)\n  }\n\n  Headers.prototype.values = function() {\n    var items = []\n    this.forEach(function(value) { items.push(value) })\n    return iteratorFor(items)\n  }\n\n  Headers.prototype.entries = function() {\n    var items = []\n    this.forEach(function(value, name) { items.push([name, value]) })\n    return iteratorFor(items)\n  }\n\n  if (support.iterable) {\n    Headers.prototype[Symbol.iterator] = Headers.prototype.entries\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result)\n      }\n      reader.onerror = function() {\n        reject(reader.error)\n      }\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader()\n    var promise = fileReaderReady(reader)\n    reader.readAsArrayBuffer(blob)\n    return promise\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader()\n    var promise = fileReaderReady(reader)\n    reader.readAsText(blob)\n    return promise\n  }\n\n  function readArrayBufferAsText(buf) {\n    var view = new Uint8Array(buf)\n    var chars = new Array(view.length)\n\n    for (var i = 0; i < view.length; i++) {\n      chars[i] = String.fromCharCode(view[i])\n    }\n    return chars.join('')\n  }\n\n  function bufferClone(buf) {\n    if (buf.slice) {\n      return buf.slice(0)\n    } else {\n      var view = new Uint8Array(buf.byteLength)\n      view.set(new Uint8Array(buf))\n      return view.buffer\n    }\n  }\n\n  function Body() {\n    this.bodyUsed = false\n\n    this._initBody = function(body) {\n      this._bodyInit = body\n      if (!body) {\n        this._bodyText = ''\n      } else if (typeof body === 'string') {\n        this._bodyText = body\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this._bodyText = body.toString()\n      } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n        this._bodyArrayBuffer = bufferClone(body.buffer)\n        // IE 10-11 can't handle a DataView body.\n        this._bodyInit = new Blob([this._bodyArrayBuffer])\n      } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n        this._bodyArrayBuffer = bufferClone(body)\n      } else {\n        throw new Error('unsupported BodyInit type')\n      }\n\n      if (!this.headers.get('content-type')) {\n        if (typeof body === 'string') {\n          this.headers.set('content-type', 'text/plain;charset=UTF-8')\n        } else if (this._bodyBlob && this._bodyBlob.type) {\n          this.headers.set('content-type', this._bodyBlob.type)\n        } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n          this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8')\n        }\n      }\n    }\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this)\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob)\n        } else if (this._bodyArrayBuffer) {\n          return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]))\n        }\n      }\n\n      this.arrayBuffer = function() {\n        if (this._bodyArrayBuffer) {\n          return consumed(this) || Promise.resolve(this._bodyArrayBuffer)\n        } else {\n          return this.blob().then(readBlobAsArrayBuffer)\n        }\n      }\n    }\n\n    this.text = function() {\n      var rejected = consumed(this)\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return readBlobAsText(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as text')\n      } else {\n        return Promise.resolve(this._bodyText)\n      }\n    }\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      }\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse)\n    }\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase()\n    return (methods.indexOf(upcased) > -1) ? upcased : method\n  }\n\n  function Request(input, options) {\n    options = options || {}\n    var body = options.body\n\n    if (input instanceof Request) {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read')\n      }\n      this.url = input.url\n      this.credentials = input.credentials\n      if (!options.headers) {\n        this.headers = new Headers(input.headers)\n      }\n      this.method = input.method\n      this.mode = input.mode\n      if (!body && input._bodyInit != null) {\n        body = input._bodyInit\n        input.bodyUsed = true\n      }\n    } else {\n      this.url = String(input)\n    }\n\n    this.credentials = options.credentials || this.credentials || 'omit'\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers)\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET')\n    this.mode = options.mode || this.mode || null\n    this.referrer = null\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(body)\n  }\n\n  Request.prototype.clone = function() {\n    return new Request(this, { body: this._bodyInit })\n  }\n\n  function decode(body) {\n    var form = new FormData()\n    body.trim().split('&').forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n    return form\n  }\n\n  function parseHeaders(rawHeaders) {\n    var headers = new Headers()\n    rawHeaders.split(/\\r?\\n/).forEach(function(line) {\n      var parts = line.split(':')\n      var key = parts.shift().trim()\n      if (key) {\n        var value = parts.join(':').trim()\n        headers.append(key, value)\n      }\n    })\n    return headers\n  }\n\n  Body.call(Request.prototype)\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {}\n    }\n\n    this.type = 'default'\n    this.status = 'status' in options ? options.status : 200\n    this.ok = this.status >= 200 && this.status < 300\n    this.statusText = 'statusText' in options ? options.statusText : 'OK'\n    this.headers = new Headers(options.headers)\n    this.url = options.url || ''\n    this._initBody(bodyInit)\n  }\n\n  Body.call(Response.prototype)\n\n  Response.prototype.clone = function() {\n    return new Response(this._bodyInit, {\n      status: this.status,\n      statusText: this.statusText,\n      headers: new Headers(this.headers),\n      url: this.url\n    })\n  }\n\n  Response.error = function() {\n    var response = new Response(null, {status: 0, statusText: ''})\n    response.type = 'error'\n    return response\n  }\n\n  var redirectStatuses = [301, 302, 303, 307, 308]\n\n  Response.redirect = function(url, status) {\n    if (redirectStatuses.indexOf(status) === -1) {\n      throw new RangeError('Invalid status code')\n    }\n\n    return new Response(null, {status: status, headers: {location: url}})\n  }\n\n  self.Headers = Headers\n  self.Request = Request\n  self.Response = Response\n\n  self.fetch = function(input, init) {\n    return new Promise(function(resolve, reject) {\n      var request = new Request(input, init)\n      var xhr = new XMLHttpRequest()\n\n      xhr.onload = function() {\n        var options = {\n          status: xhr.status,\n          statusText: xhr.statusText,\n          headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n        }\n        options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL')\n        var body = 'response' in xhr ? xhr.response : xhr.responseText\n        resolve(new Response(body, options))\n      }\n\n      xhr.onerror = function() {\n        reject(new TypeError('Network request failed'))\n      }\n\n      xhr.ontimeout = function() {\n        reject(new TypeError('Network request failed'))\n      }\n\n      xhr.open(request.method, request.url, true)\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true\n      }\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob'\n      }\n\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value)\n      })\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n    })\n  }\n  self.fetch.polyfill = true\n})(typeof self !== 'undefined' ? self : this);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/whatwg-fetch/fetch.js\n// module id = 19\n// module chunks = 0"],"sourceRoot":""}